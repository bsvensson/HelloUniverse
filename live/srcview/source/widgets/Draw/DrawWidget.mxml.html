<!-- saved from url=(0014)about:internet -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>DrawWidget.mxml</title>
<link rel="stylesheet" type="text/css" href="../../../SourceStyles.css"/>
</head>

<body><pre><span class="MXMLProcessing_Instruction">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="MXMLComment">&lt;!--</span><span class="MXMLComment">
///////////////////////////////////////////////////////////////////////////
// Copyright (c) 2010-2011 Esri. All Rights Reserved.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//    http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
///////////////////////////////////////////////////////////////////////////
</span><span class="MXMLComment">--&gt;</span>
<span class="MXMLComponent_Tag">&lt;viewer:BaseWidget</span><span class="MXMLDefault_Text"> xmlns:esri="</span><span class="MXMLString">http://www.esri.com/2008/ags</span><span class="MXMLDefault_Text">"
                   xmlns:fx="</span><span class="MXMLString">http://ns.adobe.com/mxml/2009</span><span class="MXMLDefault_Text">"
                   xmlns:s="</span><span class="MXMLString">library://ns.adobe.com/flex/spark</span><span class="MXMLDefault_Text">"
                   xmlns:mx="</span><span class="MXMLString">library://ns.adobe.com/flex/mx</span><span class="MXMLDefault_Text">"
                   xmlns:viewer="</span><span class="MXMLString">com.esri.viewer.*</span><span class="MXMLDefault_Text">"
                   xmlns:components="</span><span class="MXMLString">com.esri.viewer.components.*</span><span class="MXMLDefault_Text">"
                   x="</span><span class="MXMLString">600</span><span class="MXMLDefault_Text">" y="</span><span class="MXMLString">300</span><span class="MXMLDefault_Text">"
                   initialize="</span><span class="ActionScriptDefault_Text">basewidget_initializeHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                   widgetConfigLoaded="</span><span class="ActionScriptDefault_Text">basewidget_widgetConfigLoaded</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
    <span class="MXMLSpecial_Tag">&lt;fx:Script&gt;</span>
        &lt;![CDATA[
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Graphic</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SpatialReference</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Units</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">events</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">DrawEvent</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">events</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">EditEvent</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">events</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GeometryServiceEvent</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">events</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GraphicEvent</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">geometry</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Extent</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">geometry</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Geometry</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">geometry</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">MapPoint</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">geometry</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Polygon</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">geometry</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Polyline</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">layers</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GraphicsLayer</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">symbols</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SimpleFillSymbol</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">symbols</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SimpleLineSymbol</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">symbols</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SimpleMarkerSymbol</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">symbols</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">TextSymbol</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">tasks</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GeometryService</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">tasks</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GeometryServiceSingleton</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">tasks</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">supportClasses</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ProjectParameters</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">tools</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">DrawTool</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">utils</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GeometryUtil</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ags</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">utils</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">WebMercatorUtil</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">esri</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">viewer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">AppEvent</span>;

            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">managers</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">CursorManager</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">managers</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">CursorManagerPriority</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rpc</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">AsyncResponder</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rpc</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Fault</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rpc</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">events</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">FaultEvent</span>;

            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">spark</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">collections</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Sort</span>;

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">ICON_URL</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"assets/images/"</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">TEXT_MODE</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"text"</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">EPSG_GEOGRAPHIC</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 4326;

            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">fontList</span>:<span class="ActionScriptDefault_Text">ArrayList</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">isMeasuringEnabled</span>:<span class="ActionScriptDefault_Text">Boolean</span>;
            <span class="ActionScriptComment">//labels
</span>            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">textLabel</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">textColorLabel</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">textFontLabel</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">textSizeLabel</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">textBoldLabel</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">textBoldTooltip</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">textItalicLabel</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">textItalicTooltip</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">textUnderlineLabel</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">textUnderlineTooltip</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptComment">//points
</span>            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">addTextLabel</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">drawPointLabel</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">markerAlphaLabel</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">markerColorLabel</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">markerSizeLabel</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">markerStyleLabel</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">markerOutlineColorLabel</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">markerOutlineWidthLabel</span>:<span class="ActionScriptDefault_Text">String</span>;

            <span class="ActionScriptComment">// lines
</span>            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">drawLineLabel</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">drawFreehandLineLabel</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">lineAlphaLabel</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">lineColorLabel</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">lineStyleLabel</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">lineWidthLabel</span>:<span class="ActionScriptDefault_Text">String</span>;

            <span class="ActionScriptComment">// polygons
</span>            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">drawPolygonLabel</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">drawFreehandPolygonLabel</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">drawRectangleLabel</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">drawCircleLabel</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">drawEllipseLabel</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">fillAlphaLabel</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">fillColorLabel</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">fillStyleLabel</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">fillOutlineColorLabel</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">fillOutlineWidthLabel</span>:<span class="ActionScriptDefault_Text">String</span>;

            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">clearLabel</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">clearFeatureLabel</span>:<span class="ActionScriptDefault_Text">String</span>;

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">areaLabel</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">areaUnitsLabel</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">distanceUnitsLabel</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">showMeasurements</span>:<span class="ActionScriptDefault_Text">Boolean</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">showmeasurementsLabel</span>:<span class="ActionScriptDefault_Text">String</span>;

            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">configArea</span>:<span class="ActionScriptDefault_Text">ArrayList</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">configDistance</span>:<span class="ActionScriptDefault_Text">ArrayList</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">graphicsLayer</span>:<span class="ActionScriptDefault_Text">GraphicsLayer</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">drawingPoint</span>:<span class="ActionScriptDefault_Text">Boolean</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">addingText</span>:<span class="ActionScriptDefault_Text">Boolean</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">drawingLine</span>:<span class="ActionScriptDefault_Text">Boolean</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">drawingPolygon</span>:<span class="ActionScriptDefault_Text">Boolean</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">defaultDrawColor</span>:<span class="ActionScriptDefault_Text">uint</span>;
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">defaultTextFontSize</span>:<span class="ActionScriptDefault_Text">Number</span>;

            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">hasDrawnGraphics</span>:<span class="ActionScriptDefault_Text">Boolean</span>;

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">drawMode</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">lengthLabel</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">perimeterLabel</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">measurePt</span>:<span class="ActionScriptDefault_Text">MapPoint</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">drawType</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">drawStatus</span>:<span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">selectedDrawingIcon</span>:<span class="ActionScriptDefault_Text">FocusableImage</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">lastDrawnGraphic</span>:<span class="ActionScriptDefault_Text">Graphic</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">editGraphic</span>:<span class="ActionScriptDefault_Text">Graphic</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">isEditing</span>:<span class="ActionScriptDefault_Text">Boolean</span>;
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">lastActiveEditType</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"none"</span>; <span class="ActionScriptComment">// edit tool is not active
</span>
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Embed</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"/assets/images/move_cursor.png"</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">]</span>
            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">moveCursorIcon</span>:<span class="ActionScriptDefault_Text">Class</span>;

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">graphicToMeasurementGraphic</span>:<span class="ActionScriptDefault_Text">Dictionary</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Dictionary</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">true</span><span class="ActionScriptBracket/Brace">)</span>;

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">basewidget_initializeHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">isPartOfPanel</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptComment">// if widget is part of "left", "right" or "bottom" panel
</span>                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">percentWidth</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">percentHeight</span> <span class="ActionScriptOperator">=</span> 100;
                    <span class="ActionScriptDefault_Text">wTemplate</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">percentWidth</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">wTemplate</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">percentHeight</span> <span class="ActionScriptOperator">=</span> 100;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">wTemplate</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">width</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">wTemplate</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">minWidth</span> <span class="ActionScriptOperator">=</span> 420;
                    <span class="ActionScriptDefault_Text">wTemplate</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">height</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">wTemplate</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">minHeight</span> <span class="ActionScriptOperator">=</span> 300;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">basewidget_widgetConfigLoaded</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">graphicsLayer</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">GraphicsLayer</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addLayer</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">graphicsLayer</span><span class="ActionScriptBracket/Brace">)</span>;

                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">geometryService</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">url</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">GeometryServiceSingleton</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">instance</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">url</span>;
                    <span class="ActionScriptDefault_Text">geometryService</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">token</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">GeometryServiceSingleton</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">instance</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">token</span>;
                    <span class="ActionScriptDefault_Text">geometryService</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">proxyURL</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">GeometryServiceSingleton</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">instance</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">proxyURL</span>;

                    <span class="ActionScriptDefault_Text">graphicsLayer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">name</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">layername</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">widgetTitle</span>;

                    <span class="ActionScriptDefault_Text">initializeFontList</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;

                    <span class="ActionScriptDefault_Text">defaultDrawColor</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">defaultdrawcolor</span> <span class="ActionScriptOperator">||</span> 0x3FAFDC;
                    <span class="ActionScriptDefault_Text">defaultTextFontSize</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">defaulttextfontsize</span> <span class="ActionScriptOperator">||</span> 20;
                    <span class="ActionScriptComment">// drawing labels
</span>                    <span class="ActionScriptDefault_Text">textLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">textlabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"textLabel"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">textColorLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">textcolorlabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"textColorLabel"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">textFontLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">textfontlabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"textFontLabel"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">textSizeLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sizelabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"textSizeLabel"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">textBoldLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">textboldlabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"textBoldLabel"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">textBoldTooltip</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">textboldtooltip</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"textBoldTooltip"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">textItalicLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">textitaliclabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"textItalicLabel"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">textItalicTooltip</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">textitalictooltip</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"textItalicTooltip"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">textUnderlineLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">textunderlinelabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"textUnderlineLabel"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">textUnderlineTooltip</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">textunderlinetooltip</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"textUnderlineTooltip"</span><span class="ActionScriptBracket/Brace">)</span>;

                    <span class="ActionScriptComment">// points
</span>                    <span class="ActionScriptDefault_Text">drawPointLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">drawpointlabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"drawPointLabel"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">addTextLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addtextlabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"addTextLabel"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">markerColorLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">markercolorlabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"markerColorLabel"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">markerAlphaLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">markeralphalabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"markerAlphaLabel"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">markerSizeLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">markersizelabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"markerSizeLabel"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">markerStyleLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">markerstylelabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"markerStyleLabel"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">markerOutlineColorLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">markeroutlinecolorlabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"markerOutlineColorLabel"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">markerOutlineWidthLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">markeroutlinewidthlabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"markerOutlineWidthLabel"</span><span class="ActionScriptBracket/Brace">)</span>;

                    <span class="ActionScriptComment">// lines
</span>                    <span class="ActionScriptDefault_Text">drawLineLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">drawlinelabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"drawLineLabel"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">drawFreehandLineLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">drawfreehandlinelabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"drawFreehandLineLabel"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">lineAlphaLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">linealphalabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"lineAlphaLabel"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">lineColorLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">linecolorlabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"lineColorLabel"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">lineStyleLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">linestylelabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"lineStyleLabel"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">lineWidthLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">linewidthlabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"lineWidthLabel"</span><span class="ActionScriptBracket/Brace">)</span>;

                    <span class="ActionScriptComment">// polygons
</span>                    <span class="ActionScriptDefault_Text">drawPolygonLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">drawpolygonlabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"drawPolygonLabel"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">drawFreehandPolygonLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">drawfreehandpolygonlabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"drawFreehandPolygonLabel"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">drawRectangleLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">drawrectanglelabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"drawRectangleLabel"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">drawCircleLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">drawcirclelabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"drawCircleLabel"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">drawEllipseLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">drawellipselabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"drawEllipseLabel"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">fillAlphaLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">fillalphalabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"fillAlphaLabel"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">fillColorLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">fillcolorlabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"fillColorLabel"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">fillStyleLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">fillstylelabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"fillStyleLabel"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">fillOutlineColorLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">filloutlinecolorlabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"fillOutlineColorLabel"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">fillOutlineWidthLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">filloutlinewidthlabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"fillOutlineWidthLabel"</span><span class="ActionScriptBracket/Brace">)</span>;

                    <span class="ActionScriptDefault_Text">clearLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">clearlabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"drawClearLabel"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">clearFeatureLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">clearfeaturelabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"clearLabel"</span><span class="ActionScriptBracket/Brace">)</span>;

                    <span class="ActionScriptComment">// measurement labels
</span>                    <span class="ActionScriptDefault_Text">showmeasurementsLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">showmeasurementslabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"showMeasurementsLabel"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">distanceUnitsLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">distanceunitslabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"distanceUnitsLabel"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">areaUnitsLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">areaunitslabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"areaUnitsLabel"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">areaLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">arealabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"areaLabel"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">perimeterLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">perimeterlabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"perimeterLabel"</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">lengthLabel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">labels</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">lengthlabel</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"lengthLabel"</span><span class="ActionScriptBracket/Brace">)</span>;

                    <span class="ActionScriptDefault_Text">isMeasuringEnabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">measure</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">"true"</span>;

                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">distanceList</span>:<span class="ActionScriptDefault_Text">XMLList</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">..</span><span class="ActionScriptDefault_Text">distanceunit</span>;
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">distanceList</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">&gt;</span> 0<span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">dName</span>:<span class="ActionScriptDefault_Text">String</span>;
                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">dAbbr</span>:<span class="ActionScriptDefault_Text">String</span>;
                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">dConversion</span>:<span class="ActionScriptDefault_Text">Number</span>;

                        <span class="ActionScriptDefault_Text">configDistance</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">ArrayList</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptReserved">for</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">i</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0; <span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptOperator">&lt;</span> <span class="ActionScriptDefault_Text">distanceList</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">++</span><span class="ActionScriptBracket/Brace">)</span>
                        <span class="ActionScriptBracket/Brace">{</span>
                            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">distanceList</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">@</span><span class="ActionScriptDefault_Text">id</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span>
                            <span class="ActionScriptBracket/Brace">{</span>
                                <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">distanceListId</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">distanceList</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">@</span><span class="ActionScriptDefault_Text">id</span>;
                                <span class="ActionScriptReserved">switch</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">distanceListId</span><span class="ActionScriptBracket/Brace">)</span>
                                <span class="ActionScriptBracket/Brace">{</span>
                                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"ft"</span>:
                                    <span class="ActionScriptBracket/Brace">{</span>
                                        <span class="ActionScriptDefault_Text">dName</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"unitsFeet"</span><span class="ActionScriptBracket/Brace">)</span>;
                                        <span class="ActionScriptDefault_Text">dAbbr</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'unitsFeetAbbr'</span><span class="ActionScriptBracket/Brace">)</span>;
                                        <span class="ActionScriptDefault_Text">dConversion</span> <span class="ActionScriptOperator">=</span> 3.2808;
                                        <span class="ActionScriptReserved">break</span>;
                                    <span class="ActionScriptBracket/Brace">}</span>
                                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"km"</span>:
                                    <span class="ActionScriptBracket/Brace">{</span>
                                        <span class="ActionScriptDefault_Text">dName</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"unitsKilometers"</span><span class="ActionScriptBracket/Brace">)</span>;
                                        <span class="ActionScriptDefault_Text">dAbbr</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"unitsKilometersAbbr"</span><span class="ActionScriptBracket/Brace">)</span>;
                                        <span class="ActionScriptDefault_Text">dConversion</span> <span class="ActionScriptOperator">=</span> 0.001;
                                        <span class="ActionScriptReserved">break</span>;
                                    <span class="ActionScriptBracket/Brace">}</span>
                                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"m"</span>:
                                    <span class="ActionScriptBracket/Brace">{</span>
                                        <span class="ActionScriptDefault_Text">dName</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"unitsMeters"</span><span class="ActionScriptBracket/Brace">)</span>;
                                        <span class="ActionScriptDefault_Text">dAbbr</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"unitsMetersAbbr"</span><span class="ActionScriptBracket/Brace">)</span>;
                                        <span class="ActionScriptDefault_Text">dConversion</span> <span class="ActionScriptOperator">=</span> 1;
                                        <span class="ActionScriptReserved">break</span>;
                                    <span class="ActionScriptBracket/Brace">}</span>
                                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"mi"</span>:
                                    <span class="ActionScriptBracket/Brace">{</span>
                                        <span class="ActionScriptDefault_Text">dName</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"unitsMiles"</span><span class="ActionScriptBracket/Brace">)</span>;
                                        <span class="ActionScriptDefault_Text">dAbbr</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"unitsMilesAbbr"</span><span class="ActionScriptBracket/Brace">)</span>;
                                        <span class="ActionScriptDefault_Text">dConversion</span> <span class="ActionScriptOperator">=</span> 0.000621;
                                        <span class="ActionScriptReserved">break</span>;
                                    <span class="ActionScriptBracket/Brace">}</span>
                                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"yd"</span>:
                                    <span class="ActionScriptBracket/Brace">{</span>
                                        <span class="ActionScriptDefault_Text">dName</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'unitsYards'</span><span class="ActionScriptBracket/Brace">)</span>;
                                        <span class="ActionScriptDefault_Text">dAbbr</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'unitsYardsAbbr'</span><span class="ActionScriptBracket/Brace">)</span>;
                                        <span class="ActionScriptDefault_Text">dConversion</span> <span class="ActionScriptOperator">=</span> 1.0936133;
                                        <span class="ActionScriptReserved">break</span>;
                                    <span class="ActionScriptBracket/Brace">}</span>
                                <span class="ActionScriptBracket/Brace">}</span>
                            <span class="ActionScriptBracket/Brace">}</span>
                            <span class="ActionScriptReserved">else</span>
                            <span class="ActionScriptBracket/Brace">{</span>
                                <span class="ActionScriptDefault_Text">dName</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">distanceList</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span>;
                                <span class="ActionScriptDefault_Text">dAbbr</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">distanceList</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">@</span><span class="ActionScriptDefault_Text">abbr</span>;
                                <span class="ActionScriptDefault_Text">dConversion</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">distanceList</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">@</span><span class="ActionScriptDefault_Text">conversion</span><span class="ActionScriptBracket/Brace">)</span>;
                            <span class="ActionScriptBracket/Brace">}</span>
                            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">dUnit</span>:<span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">{</span>
                                    <span class="ActionScriptDefault_Text">name</span>: <span class="ActionScriptDefault_Text">dName</span><span class="ActionScriptOperator">,</span>
                                    <span class="ActionScriptDefault_Text">abbr</span>: <span class="ActionScriptDefault_Text">dAbbr</span><span class="ActionScriptOperator">,</span>
                                    <span class="ActionScriptDefault_Text">conversion</span>: <span class="ActionScriptDefault_Text">dConversion</span>
                                <span class="ActionScriptBracket/Brace">}</span>;
                            <span class="ActionScriptDefault_Text">configDistance</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addItem</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">dUnit</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptBracket/Brace">}</span>
                        <span class="ActionScriptDefault_Text">cboDistance</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">dataProvider</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configDistance</span>;
                    <span class="ActionScriptBracket/Brace">}</span>

                    <span class="ActionScriptComment">// area units
</span>                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">areaList</span>:<span class="ActionScriptDefault_Text">XMLList</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configXML</span><span class="ActionScriptOperator">..</span><span class="ActionScriptDefault_Text">areaunit</span>;
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">areaList</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">&gt;</span> 0<span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">aName</span>:<span class="ActionScriptDefault_Text">String</span>;
                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">aAbbr</span>:<span class="ActionScriptDefault_Text">String</span>;
                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">aConversion</span>:<span class="ActionScriptDefault_Text">Number</span>;

                        <span class="ActionScriptDefault_Text">configArea</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">ArrayList</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptReserved">for</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">j</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0; <span class="ActionScriptDefault_Text">j</span> <span class="ActionScriptOperator">&lt;</span> <span class="ActionScriptDefault_Text">areaList</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptDefault_Text">j</span><span class="ActionScriptOperator">++</span><span class="ActionScriptBracket/Brace">)</span>
                        <span class="ActionScriptBracket/Brace">{</span>
                            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">areaList</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">j</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">@</span><span class="ActionScriptDefault_Text">id</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span>
                            <span class="ActionScriptBracket/Brace">{</span>
                                <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">areaListId</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">areaList</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">j</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">@</span><span class="ActionScriptDefault_Text">id</span>;
                                <span class="ActionScriptReserved">switch</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">areaListId</span><span class="ActionScriptBracket/Brace">)</span>
                                <span class="ActionScriptBracket/Brace">{</span>
                                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"ac"</span>:
                                    <span class="ActionScriptBracket/Brace">{</span>
                                        <span class="ActionScriptDefault_Text">aName</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"unitsAcres"</span><span class="ActionScriptBracket/Brace">)</span>;
                                        <span class="ActionScriptDefault_Text">aAbbr</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"unitsAcresAbbr"</span><span class="ActionScriptBracket/Brace">)</span>;
                                        <span class="ActionScriptDefault_Text">aConversion</span> <span class="ActionScriptOperator">=</span> 0.00024710538147;
                                        <span class="ActionScriptReserved">break</span>;
                                    <span class="ActionScriptBracket/Brace">}</span>
                                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"ha"</span>:
                                    <span class="ActionScriptBracket/Brace">{</span>
                                        <span class="ActionScriptDefault_Text">aName</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"unitsHectares"</span><span class="ActionScriptBracket/Brace">)</span>;
                                        <span class="ActionScriptDefault_Text">aAbbr</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"unitsHectaresAbbr"</span><span class="ActionScriptBracket/Brace">)</span>;
                                        <span class="ActionScriptDefault_Text">aConversion</span> <span class="ActionScriptOperator">=</span> 0.0001;
                                        <span class="ActionScriptReserved">break</span>;
                                    <span class="ActionScriptBracket/Brace">}</span>
                                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"sq ft"</span>:
                                    <span class="ActionScriptBracket/Brace">{</span>
                                        <span class="ActionScriptDefault_Text">aName</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"unitsSquareFeet"</span><span class="ActionScriptBracket/Brace">)</span>;
                                        <span class="ActionScriptDefault_Text">aAbbr</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"unitsSquareFeetAbbr"</span><span class="ActionScriptBracket/Brace">)</span>;
                                        <span class="ActionScriptDefault_Text">aConversion</span> <span class="ActionScriptOperator">=</span> 10.763910417;
                                        <span class="ActionScriptReserved">break</span>;
                                    <span class="ActionScriptBracket/Brace">}</span>
                                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"sq km"</span>:
                                    <span class="ActionScriptBracket/Brace">{</span>
                                        <span class="ActionScriptDefault_Text">aName</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"unitsSquareKilometers"</span><span class="ActionScriptBracket/Brace">)</span>;
                                        <span class="ActionScriptDefault_Text">aAbbr</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"unitsSquareKilometersAbbr"</span><span class="ActionScriptBracket/Brace">)</span>;
                                        <span class="ActionScriptDefault_Text">aConversion</span> <span class="ActionScriptOperator">=</span> 0.000001;
                                        <span class="ActionScriptReserved">break</span>;
                                    <span class="ActionScriptBracket/Brace">}</span>
                                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"sq m"</span>:
                                    <span class="ActionScriptBracket/Brace">{</span>
                                        <span class="ActionScriptDefault_Text">aName</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"unitsSquareMeters"</span><span class="ActionScriptBracket/Brace">)</span>;
                                        <span class="ActionScriptDefault_Text">aAbbr</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"unitsSquareMetersAbbr"</span><span class="ActionScriptBracket/Brace">)</span>;
                                        <span class="ActionScriptDefault_Text">aConversion</span> <span class="ActionScriptOperator">=</span> 1;
                                        <span class="ActionScriptReserved">break</span>;
                                    <span class="ActionScriptBracket/Brace">}</span>
                                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"sq mi"</span>:
                                    <span class="ActionScriptBracket/Brace">{</span>
                                        <span class="ActionScriptDefault_Text">aName</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"unitsSquareMiles"</span><span class="ActionScriptBracket/Brace">)</span>;
                                        <span class="ActionScriptDefault_Text">aAbbr</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"unitsSquareMilesAbbr"</span><span class="ActionScriptBracket/Brace">)</span>;
                                        <span class="ActionScriptDefault_Text">aConversion</span> <span class="ActionScriptOperator">=</span> 0.0000003861021;
                                        <span class="ActionScriptReserved">break</span>;
                                    <span class="ActionScriptBracket/Brace">}</span>
                                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"sq yd"</span>:
                                    <span class="ActionScriptBracket/Brace">{</span>
                                        <span class="ActionScriptDefault_Text">aName</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"unitsSquareYards"</span><span class="ActionScriptBracket/Brace">)</span>;
                                        <span class="ActionScriptDefault_Text">aAbbr</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"unitsSquareYardsAbbr"</span><span class="ActionScriptBracket/Brace">)</span>;
                                        <span class="ActionScriptDefault_Text">aConversion</span> <span class="ActionScriptOperator">=</span> 1.19599005;
                                        <span class="ActionScriptReserved">break</span>;
                                    <span class="ActionScriptBracket/Brace">}</span>
                                <span class="ActionScriptBracket/Brace">}</span>
                            <span class="ActionScriptBracket/Brace">}</span>
                            <span class="ActionScriptReserved">else</span>
                            <span class="ActionScriptBracket/Brace">{</span>
                                <span class="ActionScriptDefault_Text">aName</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">areaList</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">j</span><span class="ActionScriptBracket/Brace">]</span>;
                                <span class="ActionScriptDefault_Text">aAbbr</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">areaList</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">j</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">@</span><span class="ActionScriptDefault_Text">abbr</span>;
                                <span class="ActionScriptDefault_Text">aConversion</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">areaList</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">j</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">@</span><span class="ActionScriptDefault_Text">conversion</span><span class="ActionScriptBracket/Brace">)</span>;
                            <span class="ActionScriptBracket/Brace">}</span>
                            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">aUnit</span>:<span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">{</span>
                                    <span class="ActionScriptDefault_Text">name</span>: <span class="ActionScriptDefault_Text">aName</span><span class="ActionScriptOperator">,</span>
                                    <span class="ActionScriptDefault_Text">abbr</span>: <span class="ActionScriptDefault_Text">aAbbr</span><span class="ActionScriptOperator">,</span>
                                    <span class="ActionScriptDefault_Text">conversion</span>: <span class="ActionScriptDefault_Text">aConversion</span>
                                <span class="ActionScriptBracket/Brace">}</span>;
                            <span class="ActionScriptDefault_Text">configArea</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addItem</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">aUnit</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptBracket/Brace">}</span>
                        <span class="ActionScriptDefault_Text">cboArea</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">dataProvider</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">configArea</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptDefault_Text">AppEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">AppEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">DATA_PUBLISH</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">sharedDataUpdated</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">initializeFontList</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">fontList</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">ArrayList</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">prioritizeFontNames</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">getAvailableFontNames</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">,</span>
                                                             <span class="ActionScriptDefault_Text">defaultFontNames</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getAvailableFontNames</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Array</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">availableFonts</span>:<span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Font</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">enumerateFonts</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">true</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">allFontNames</span>:<span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> [];

                <span class="ActionScriptReserved">for each</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">font</span>:<span class="ActionScriptDefault_Text">Font</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">availableFonts</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">allFontNames</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">font</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">fontName</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>

                <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">localeBasedSorter</span>:<span class="ActionScriptDefault_Text">Sort</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Sort</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">localeBasedSorter</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">setStyle</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'locale'</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">resourceManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">localeChain</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">localeBasedSorter</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sort</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">allFontNames</span><span class="ActionScriptBracket/Brace">)</span>;

                <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">allFontNames</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">defaultFontNames</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Array</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">fontNames</span>:<span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata"> getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'textFont1'</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">,</span>
                                        <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'textFont2'</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">,</span>
                                        <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'textFont3'</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">,</span>
                                        <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'textFont4'</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">,</span>
                                        <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'textFont5'</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">,</span>
                                        <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'textFont6'</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">]</span>;

                <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">fontNames</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">filter</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">validFontName</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">validFontName</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">fontName</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">index</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">array</span>:<span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Boolean</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">Boolean</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">fontName</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">prioritizeFontNames</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">fontNames</span>:<span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">preferredFontNames</span>:<span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Array</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">prioritizedFontNames</span>:<span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">preferredFontNames</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">concat</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">isFontNameUnique</span>:<span class="ActionScriptDefault_Text">Boolean</span>;

                <span class="ActionScriptReserved">for each</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">fontName</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">fontNames</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">isFontNameUnique</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">preferredFontNames</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">indexOf</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">fontName</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptOperator">-</span>1<span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">isFontNameUnique</span><span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">prioritizedFontNames</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">fontName</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>

                <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">prioritizedFontNames</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">sharedDataUpdated</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">AppEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">data</span>:<span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">data</span>;

                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">data</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">key</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">"Deactivate_DrawTool"</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">setMapAction</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">null</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">deactivate</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">selectedDrawingIcon</span><span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">selectedDrawingIcon</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">filters</span> <span class="ActionScriptOperator">=</span> [];
                        <span class="ActionScriptDefault_Text">selectedDrawingIcon</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">activateDrawTool</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">addSharedData</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"Deactivate_DrawTool"</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">// to be able to deactivate drawTool on other widgets
</span>                <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">deactivate</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">lastActiveEditType</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"none"</span>;

                <span class="ActionScriptComment">// apply glow
</span>                <span class="ActionScriptDefault_Text">selectedDrawingIcon</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">FocusableImage</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">currentTarget</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">clearSelectionFilter</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">selectedDrawingIcon</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">filters</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">glowFilter</span> <span class="ActionScriptBracket/Brace">]</span>;

                <span class="ActionScriptDefault_Text">frmDraw</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">visible</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                <span class="ActionScriptDefault_Text">showMeasurements</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                <span class="ActionScriptDefault_Text">isEditing</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                <span class="ActionScriptDefault_Text">drawType</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">selectedDrawingIcon</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">name</span>;
                <span class="ActionScriptReserved">switch</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">drawType</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">DrawTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">MAPPOINT</span>:
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">drawingPolygon</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">drawingLine</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                        <span class="ActionScriptDefault_Text">addingText</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">selectedDrawingIcon</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">id</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">"text"</span>;
                        <span class="ActionScriptDefault_Text">drawingPoint</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">addingText</span>;

                        <span class="ActionScriptDefault_Text">drawMode</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">addingText</span> <span class="ActionScriptOperator">?</span> <span class="ActionScriptDefault_Text">TEXT_MODE</span> : <span class="ActionScriptReserved">null</span>;
                        <span class="ActionScriptDefault_Text">drawStatus</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">drawMode</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">TEXT_MODE</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">?</span> <span class="ActionScriptDefault_Text">addTextLabel</span> : <span class="ActionScriptDefault_Text">drawPointLabel</span>;
                        <span class="ActionScriptDefault_Text">setMapAction</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">drawType</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">drawStatus</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">map_drawEndHandler</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">DrawTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">POLYLINE</span>:
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">drawingPoint</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">addingText</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">drawingPolygon</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                        <span class="ActionScriptDefault_Text">drawingLine</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                        <span class="ActionScriptDefault_Text">showMeasurements</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;

                        <span class="ActionScriptDefault_Text">drawStatus</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">drawLineLabel</span>;
                        <span class="ActionScriptDefault_Text">setMapAction</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">drawType</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">drawStatus</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">lineSymbol</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">map_drawEndHandler</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">map_drawUpdateHandler</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">false</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">false</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">DrawTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">FREEHAND_POLYLINE</span>:
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">drawingPoint</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">addingText</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">drawingPolygon</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                        <span class="ActionScriptDefault_Text">drawingLine</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                        <span class="ActionScriptDefault_Text">showMeasurements</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;

                        <span class="ActionScriptDefault_Text">drawStatus</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">drawFreehandLineLabel</span>;
                        <span class="ActionScriptDefault_Text">setMapAction</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">drawType</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">drawStatus</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">lineSymbol</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">map_drawEndHandler</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">map_drawUpdateHandler</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">false</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">false</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">DrawTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">EXTENT</span>:
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">addingText</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">drawingPoint</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">drawingLine</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                        <span class="ActionScriptDefault_Text">drawingPolygon</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                        <span class="ActionScriptDefault_Text">showMeasurements</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;

                        <span class="ActionScriptDefault_Text">drawStatus</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">drawRectangleLabel</span>;
                        <span class="ActionScriptDefault_Text">setMapAction</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">drawType</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">drawStatus</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">fillSymbol</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">map_drawEndHandler</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">map_drawUpdateHandler</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">false</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">false</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">DrawTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">CIRCLE</span>:
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">addingText</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">drawingPoint</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">drawingLine</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                        <span class="ActionScriptDefault_Text">drawingPolygon</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                        <span class="ActionScriptDefault_Text">showMeasurements</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;

                        <span class="ActionScriptDefault_Text">drawStatus</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">drawCircleLabel</span>;
                        <span class="ActionScriptDefault_Text">setMapAction</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">drawType</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">drawStatus</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">fillSymbol</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">map_drawEndHandler</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">map_drawUpdateHandler</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">false</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">false</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">DrawTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ELLIPSE</span>:
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">addingText</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">drawingPoint</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">drawingLine</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                        <span class="ActionScriptDefault_Text">drawingPolygon</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                        <span class="ActionScriptDefault_Text">showMeasurements</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;

                        <span class="ActionScriptDefault_Text">drawStatus</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">drawEllipseLabel</span>;
                        <span class="ActionScriptDefault_Text">setMapAction</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">drawType</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">drawStatus</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">fillSymbol</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">map_drawEndHandler</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">map_drawUpdateHandler</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">false</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">false</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">DrawTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">POLYGON</span>:
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">addingText</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">drawingPoint</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">drawingLine</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                        <span class="ActionScriptDefault_Text">drawingPolygon</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                        <span class="ActionScriptDefault_Text">showMeasurements</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;

                        <span class="ActionScriptDefault_Text">drawStatus</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">drawPolygonLabel</span>;
                        <span class="ActionScriptDefault_Text">setMapAction</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">drawType</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">drawStatus</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">fillSymbol</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">map_drawEndHandler</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">map_drawUpdateHandler</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">false</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">false</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">DrawTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">FREEHAND_POLYGON</span>:
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">addingText</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">drawingPoint</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">drawingLine</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                        <span class="ActionScriptDefault_Text">drawingPolygon</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                        <span class="ActionScriptDefault_Text">showMeasurements</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;

                        <span class="ActionScriptDefault_Text">drawStatus</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">drawFreehandPolygonLabel</span>;
                        <span class="ActionScriptDefault_Text">setMapAction</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">drawType</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">drawStatus</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">fillSymbol</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">map_drawEndHandler</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">map_drawUpdateHandler</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">false</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">false</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">clear</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">graphicsLayer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">clear</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">deactivate</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">updateHasDrawnGraphics</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">clearGraphicToMeasurementGraphic</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">updateHasDrawnGraphics</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">hasDrawnGraphics</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">graphicsLayer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">numGraphics</span> <span class="ActionScriptOperator">&gt;</span> 0;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">clearGraphicToMeasurementGraphic</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">for</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">key</span>:<span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">graphicToMeasurementGraphic</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">delete</span> <span class="ActionScriptDefault_Text">graphicToMeasurementGraphic</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">key</span><span class="ActionScriptBracket/Brace">]</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">clearSelectionFilter</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">for</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">i</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0; <span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptOperator">&lt;</span> <span class="ActionScriptDefault_Text">drawImageGroup</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">numChildren</span>; <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">++</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">drawImageGroup</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getChildAt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">filters</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">drawImageGroup</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getChildAt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">filters</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">&gt;</span> 0<span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">!</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">selectedDrawingIcon</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">drawImageGroup</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getChildAt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">===</span> <span class="ActionScriptDefault_Text">selectedDrawingIcon</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>
                        <span class="ActionScriptBracket/Brace">{</span>
                            <span class="ActionScriptDefault_Text">drawImageGroup</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getChildAt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">filters</span> <span class="ActionScriptOperator">=</span> [];
                        <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getMeasurementGraphic</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">graphic</span>:<span class="ActionScriptDefault_Text">Graphic</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Graphic</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">graphicToMeasurementGraphic</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">graphic</span><span class="ActionScriptBracket/Brace">]</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">map_drawUpdateHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">DrawEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">lastDrawnGraphic</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">graphic</span>;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">isMeasuringEnabled</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">lastDrawnGraphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">hasEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">GraphicEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GRAPHIC_REMOVE</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">lastDrawnGraphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">graphicsLayer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">GraphicEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GRAPHIC_REMOVE</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">drawnGraphic_graphicRemoveHandler</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">false</span><span class="ActionScriptOperator">,</span> 0<span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">true</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptDefault_Text">measureGraphicClientSide</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">lastDrawnGraphic</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">drawnGraphic_graphicRemoveHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">GraphicEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">measurementGraphic</span>:<span class="ActionScriptDefault_Text">Graphic</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getMeasurementGraphic</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">graphic</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">measurementGraphic</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">graphicsLayer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">remove</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">measurementGraphic</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">clearMeasurementGraphic</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">graphic</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">clearMeasurementGraphic</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">graphic</span>:<span class="ActionScriptDefault_Text">Graphic</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">graphicToMeasurementGraphic</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">graphic</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">map_drawEndHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">DrawEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">selectedDrawingIcon</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span>;
                <span class="ActionScriptDefault_Text">clearSelectionFilter</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">target</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">deactivate</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;

                <span class="ActionScriptDefault_Text">lastDrawnGraphic</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">graphic</span>;

                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">customContextMenu</span>:<span class="ActionScriptDefault_Text">ContextMenu</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">ContextMenu</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">customContextMenu</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">hideBuiltInItems</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">menuItem</span>:<span class="ActionScriptDefault_Text">ContextMenuItem</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">ContextMenuItem</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">clearFeatureLabel</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">menuItem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">ContextMenuEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">MENU_ITEM_SELECT</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">menuItem_contextMenuDeleteHandler</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">customContextMenu</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">customItems</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">menuItem</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">lastDrawnGraphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">contextMenu</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">customContextMenu</span>;

                <span class="ActionScriptDefault_Text">lastDrawnGraphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">CLICK</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">graphic_clickHandler</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">false</span><span class="ActionScriptOperator">,</span> 0<span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">true</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">graphicsLayer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">add</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">lastDrawnGraphic</span><span class="ActionScriptBracket/Brace">)</span>;

                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">geom</span>:<span class="ActionScriptDefault_Text">Geometry</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">lastDrawnGraphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">geometry</span>;
                <span class="ActionScriptReserved">switch</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">geom</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">type</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">Geometry</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">MAPPOINT</span>:
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">drawMode</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">TEXT_MODE</span><span class="ActionScriptBracket/Brace">)</span>
                        <span class="ActionScriptBracket/Brace">{</span>
                            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">textSymbol</span>:<span class="ActionScriptDefault_Text">TextSymbol</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">TextSymbol</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">txtLabel</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">text</span><span class="ActionScriptBracket/Brace">)</span>;
                            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">txtFormat</span>:<span class="ActionScriptDefault_Text">TextFormat</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">TextFormat</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">fontNameSelection</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedItem</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">numTextSize</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">value</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">cpText</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedColor</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">bold</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">italic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">underline</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span><span class="ActionScriptBracket/Brace">)</span>;
                            <span class="ActionScriptDefault_Text">textSymbol</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">textFormat</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">txtFormat</span>;
                            <span class="ActionScriptDefault_Text">lastDrawnGraphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">symbol</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">textSymbol</span>;
                        <span class="ActionScriptBracket/Brace">}</span>
                        <span class="ActionScriptReserved">else</span>
                        <span class="ActionScriptBracket/Brace">{</span>
                            <span class="ActionScriptDefault_Text">lastDrawnGraphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">symbol</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">SimpleMarkerSymbol</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">markerStyle</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedItem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">style</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">numMarkerSize</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">value</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">cpMarker</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedColor</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">numMarkerAlpha</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">value</span><span class="ActionScriptOperator">,</span> 0<span class="ActionScriptOperator">,</span> 0<span class="ActionScriptOperator">,</span> 0<span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">SimpleLineSymbol</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">SimpleLineSymbol</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">STYLE_SOLID</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">cpMarkerOutline</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedColor</span><span class="ActionScriptOperator">,</span> 1<span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">numMarkerOutlineWidth</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">value</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptBracket/Brace">}</span>
                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">Geometry</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">POLYLINE</span>:
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">lastDrawnGraphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">symbol</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">SimpleLineSymbol</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">lineStyle</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedItem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">style</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">cpLine</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedColor</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">numLineAlpha</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">value</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">numLineWidth</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">value</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">isMeasuringEnabled</span><span class="ActionScriptBracket/Brace">)</span>
                        <span class="ActionScriptBracket/Brace">{</span>
                            <span class="ActionScriptDefault_Text">measureGeometry</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">geom</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptBracket/Brace">}</span>
                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">Geometry</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">POLYGON</span>:
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">lastDrawnGraphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">symbol</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">SimpleFillSymbol</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">fillStyle</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedItem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">style</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">cpFill</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedColor</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">numFillAlpha</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">value</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">SimpleLineSymbol</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">SimpleLineSymbol</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">STYLE_SOLID</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">cpFillOutline</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedColor</span><span class="ActionScriptOperator">,</span> 1<span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">numFillOutlineWidth</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">value</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">isMeasuringEnabled</span><span class="ActionScriptBracket/Brace">)</span>
                        <span class="ActionScriptBracket/Brace">{</span>
                            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">polygon</span>:<span class="ActionScriptDefault_Text">Polygon</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">geom</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">Polygon</span>;
                            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">GeometryUtil</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">polygonSelfIntersecting</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">polygon</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>
                            <span class="ActionScriptBracket/Brace">{</span>
                                <span class="ActionScriptDefault_Text">geometryService</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">simplify</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">polygon</span> <span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span>;
                            <span class="ActionScriptBracket/Brace">}</span>
                            <span class="ActionScriptReserved">else</span>
                            <span class="ActionScriptBracket/Brace">{</span>
                                <span class="ActionScriptDefault_Text">measureGeometry</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">geom</span><span class="ActionScriptBracket/Brace">)</span>;
                            <span class="ActionScriptBracket/Brace">}</span>
                        <span class="ActionScriptBracket/Brace">}</span>
                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">Geometry</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">EXTENT</span>:
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">lastDrawnGraphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">symbol</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">SimpleFillSymbol</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">fillStyle</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedItem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">style</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">cpFill</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedColor</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">numFillAlpha</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">value</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">SimpleLineSymbol</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">SimpleLineSymbol</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">STYLE_SOLID</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">cpFillOutline</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedColor</span><span class="ActionScriptOperator">,</span> 1<span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">numFillOutlineWidth</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">value</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">isMeasuringEnabled</span><span class="ActionScriptBracket/Brace">)</span>
                        <span class="ActionScriptBracket/Brace">{</span>
                            <span class="ActionScriptComment">// convert it to a polygon before project for more accururate result
</span>                            <span class="ActionScriptDefault_Text">measureGeometry</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">geom</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">Extent</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toPolygon</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptBracket/Brace">}</span>
                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>

                <span class="ActionScriptDefault_Text">updateHasDrawnGraphics</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">moveMeasurementGraphicToTop</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">lastDrawnGraphic</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">menuItem_contextMenuDeleteHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">ContextMenuEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">drawnGraphic</span>:<span class="ActionScriptDefault_Text">Graphic</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Graphic</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">contextMenuOwner</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">graphicsLayer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">remove</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">drawnGraphic</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptComment">// also remove measurement label if any
</span>                <span class="ActionScriptDefault_Text">graphicsLayer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">remove</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">getMeasurementGraphic</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">drawnGraphic</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">deactivate</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">updateHasDrawnGraphics</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">moveMeasurementGraphicToTop</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">drawnGraphic</span>:<span class="ActionScriptDefault_Text">Graphic</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">measurementGraphic</span>:<span class="ActionScriptDefault_Text">Graphic</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getMeasurementGraphic</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">drawnGraphic</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">measurementGraphic</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">measurementGraphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">graphicsLayer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">moveToTop</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">measurementGraphic</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">drawIcon_rollOverHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">clearSelectionFilter</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">target</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">filters</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">glowFilter</span> <span class="ActionScriptBracket/Brace">]</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">drawIcon_rollOutHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">clearSelectionFilter</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">graphic_clickHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">editGraphic</span> <span class="ActionScriptOperator">!==</span> <span class="ActionScriptDefault_Text">Graphic</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">currentTarget</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">editGraphic</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Graphic</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">currentTarget</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">lastActiveEditType</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"none"</span>; <span class="ActionScriptComment">// make sure move and edit vertices is the 1st mode
</span>                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">editGraphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">geometry</span> <span class="ActionScriptReserved">is</span> <span class="ActionScriptDefault_Text">Polyline</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">editGraphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">geometry</span> <span class="ActionScriptReserved">is</span> <span class="ActionScriptDefault_Text">Polygon</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">lastActiveEditType</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">"none"</span><span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">isEditing</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                        <span class="ActionScriptDefault_Text">lastActiveEditType</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"moveEditVertices"</span>;
                        <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">activate</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">MOVE</span> <span class="ActionScriptOperator">|</span> <span class="ActionScriptDefault_Text">EditTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">EDIT_VERTICES</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">editGraphic</span> <span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptDefault_Text">CursorManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">setCursor</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">moveCursorIcon</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">CursorManagerPriority</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">HIGH</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptOperator">-</span>16<span class="ActionScriptOperator">,</span> <span class="ActionScriptOperator">-</span>16<span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">else</span> <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">lastActiveEditType</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">"moveEditVertices"</span><span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">isEditing</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                        <span class="ActionScriptDefault_Text">lastActiveEditType</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"moveRotateScale"</span>;
                        <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">activate</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">MOVE</span> <span class="ActionScriptOperator">|</span> <span class="ActionScriptDefault_Text">EditTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SCALE</span> <span class="ActionScriptOperator">|</span> <span class="ActionScriptDefault_Text">EditTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ROTATE</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">editGraphic</span> <span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptDefault_Text">CursorManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">setCursor</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">moveCursorIcon</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">CursorManagerPriority</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">HIGH</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptOperator">-</span>16<span class="ActionScriptOperator">,</span> <span class="ActionScriptOperator">-</span>16<span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">else</span> <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">lastActiveEditType</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">"moveRotateScale"</span><span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">isEditing</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                        <span class="ActionScriptDefault_Text">editGraphic</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span>;
                        <span class="ActionScriptDefault_Text">lastActiveEditType</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"none"</span>;
                        <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">deactivate</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span> <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">editGraphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">geometry</span> <span class="ActionScriptReserved">is</span> <span class="ActionScriptDefault_Text">Extent</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">lastActiveEditType</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">"none"</span><span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">isEditing</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                        <span class="ActionScriptDefault_Text">lastActiveEditType</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"moveScale"</span>;
                        <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">activate</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">MOVE</span> <span class="ActionScriptOperator">|</span> <span class="ActionScriptDefault_Text">EditTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SCALE</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">editGraphic</span> <span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptDefault_Text">CursorManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">setCursor</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">moveCursorIcon</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">CursorManagerPriority</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">HIGH</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptOperator">-</span>16<span class="ActionScriptOperator">,</span> <span class="ActionScriptOperator">-</span>16<span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">else</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">isEditing</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                        <span class="ActionScriptDefault_Text">editGraphic</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span>;
                        <span class="ActionScriptDefault_Text">lastActiveEditType</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"none"</span>;
                        <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">deactivate</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">lastActiveEditType</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">"none"</span><span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">isEditing</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                        <span class="ActionScriptDefault_Text">lastActiveEditType</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"moveEditVertices"</span>;
                        <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">activate</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">EDIT_VERTICES</span> <span class="ActionScriptOperator">|</span> <span class="ActionScriptDefault_Text">EditTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">MOVE</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">editGraphic</span> <span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptDefault_Text">CursorManager</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">setCursor</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">moveCursorIcon</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">CursorManagerPriority</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">HIGH</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptOperator">-</span>16<span class="ActionScriptOperator">,</span> <span class="ActionScriptOperator">-</span>16<span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">else</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">isEditing</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                        <span class="ActionScriptDefault_Text">editGraphic</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span>;
                        <span class="ActionScriptDefault_Text">lastActiveEditType</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"none"</span>;
                        <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">deactivate</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>

                <span class="ActionScriptDefault_Text">removeEditToolEventListeners</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">MOUSE_DOWN</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">map_mouseDownHandler</span><span class="ActionScriptBracket/Brace">)</span>;

                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">editGraphic</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">addEditToolEventListeners</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">moveMeasurementGraphicToTop</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">editGraphic</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">MOUSE_DOWN</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">map_mouseDownHandler</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">removeEditToolEventListeners</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GRAPHICS_MOVE_START</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">editTool_editStartHandler</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GRAPHIC_SCALE_START</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">editTool_editStartHandler</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GRAPHIC_ROTATE_START</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">editTool_editStartHandler</span><span class="ActionScriptBracket/Brace">)</span>;

                <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GRAPHIC_ROTATE</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">editTool_UpdateHandler</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GRAPHIC_SCALE</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">editTool_UpdateHandler</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GRAPHICS_MOVE</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">editTool_UpdateHandler</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">VERTEX_MOVE</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">editTool_UpdateHandler</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GHOST_VERTEX_MOUSE_MOVE</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">editTool_UpdateHandler</span><span class="ActionScriptBracket/Brace">)</span>;

                <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">VERTEX_ADD</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">editTool_editStopHandler</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">VERTEX_DELETE</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">editTool_editStopHandler</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">VERTEX_MOVE_STOP</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">editTool_editStopHandler</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GRAPHICS_MOVE_STOP</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">editTool_editStopHandler</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GRAPHIC_ROTATE_STOP</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">editTool_editStopHandler</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GRAPHIC_SCALE_STOP</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">editTool_editStopHandler</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">map_mouseDownHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">MOUSE_DOWN</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">map_mouseDownHandler</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">MOUSE_UP</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">map_mouseUpHandler</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">MOUSE_MOVE</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">map_mouseMoveHandler</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">map_mouseUpHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">target</span> <span class="ActionScriptOperator">!==</span> <span class="ActionScriptDefault_Text">editGraphic</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">MOUSE_UP</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">map_mouseUpHandler</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">MOUSE_MOVE</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">map_mouseMoveHandler</span><span class="ActionScriptBracket/Brace">)</span>;

                    <span class="ActionScriptDefault_Text">isEditing</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                    <span class="ActionScriptDefault_Text">editGraphic</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span>;
                    <span class="ActionScriptDefault_Text">lastActiveEditType</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"none"</span>;
                    <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">deactivate</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">map_mouseMoveHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">MOUSE_DOWN</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">map_mouseDownHandler</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">MOUSE_UP</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">map_mouseUpHandler</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">MOUSE_MOVE</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">map_mouseMoveHandler</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">addEditToolEventListeners</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GRAPHICS_MOVE_START</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">editTool_editStartHandler</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GRAPHIC_SCALE_START</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">editTool_editStartHandler</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GRAPHIC_ROTATE_START</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">editTool_editStartHandler</span><span class="ActionScriptBracket/Brace">)</span>;

                <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GRAPHIC_ROTATE</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">editTool_UpdateHandler</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GRAPHIC_SCALE</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">editTool_UpdateHandler</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GRAPHICS_MOVE</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">editTool_UpdateHandler</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">VERTEX_MOVE</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">editTool_UpdateHandler</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GHOST_VERTEX_MOUSE_MOVE</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">editTool_UpdateHandler</span><span class="ActionScriptBracket/Brace">)</span>;

                <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">VERTEX_ADD</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">editTool_editStopHandler</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">VERTEX_DELETE</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">editTool_editStopHandler</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">VERTEX_MOVE_STOP</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">editTool_editStopHandler</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GRAPHICS_MOVE_STOP</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">editTool_editStopHandler</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GRAPHIC_ROTATE_STOP</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">editTool_editStopHandler</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GRAPHIC_SCALE_STOP</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">editTool_editStopHandler</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">editTool_editStopHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">EditEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">!</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">graphic</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">graphics</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">return</span>;
                <span class="ActionScriptBracket/Brace">}</span>

                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">editedGraphic</span>:<span class="ActionScriptDefault_Text">Graphic</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">graphic</span> <span class="ActionScriptOperator">?</span> <span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">graphic</span> : <span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">graphics</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span>;

                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">wrapAround180</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">normalizeGraphicGeometry</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">editedGraphic</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span> <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">getMeasurementGraphic</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">editedGraphic</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">recalculate</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">editedGraphic</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">normalizeGraphicGeometry</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">graphic</span>:<span class="ActionScriptDefault_Text">Graphic</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptComment">// normalize
</span>                <span class="ActionScriptDefault_Text">GeometryUtil</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">normalizeCentralMeridian</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">graphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">geometry</span> <span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">GeometryServiceSingleton</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">instance</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">AsyncResponder</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">getNormalizedGeometryFunction</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">faultFunction</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getNormalizedGeometryFunction</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">item</span>:<span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">token</span>:<span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">normalizedGeometries</span>:<span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">item</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">Array</span>;
                    <span class="ActionScriptDefault_Text">graphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">geometry</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">normalizedGeometries</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span>;
                    <span class="ActionScriptDefault_Text">isEditing</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">graphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">geometry</span> <span class="ActionScriptReserved">is</span> <span class="ActionScriptDefault_Text">Polyline</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">graphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">geometry</span> <span class="ActionScriptReserved">is</span> <span class="ActionScriptDefault_Text">Polygon</span><span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">lastActiveEditType</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">"moveScale"</span><span class="ActionScriptBracket/Brace">)</span>
                        <span class="ActionScriptBracket/Brace">{</span>
                            <span class="ActionScriptDefault_Text">lastActiveEditType</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"moveEditVertices"</span>; <span class="ActionScriptComment">// after normalization, if extent crosses the dateline, it is converted to a polygon
</span>                        <span class="ActionScriptBracket/Brace">}</span>
                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">lastActiveEditType</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">"moveEditVertices"</span><span class="ActionScriptBracket/Brace">)</span>
                        <span class="ActionScriptBracket/Brace">{</span>
                            <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">activate</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">MOVE</span> <span class="ActionScriptOperator">|</span> <span class="ActionScriptDefault_Text">EditTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">EDIT_VERTICES</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">graphic</span> <span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptBracket/Brace">}</span>
                        <span class="ActionScriptReserved">else</span> <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">lastActiveEditType</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">"moveRotateScale"</span><span class="ActionScriptBracket/Brace">)</span>
                        <span class="ActionScriptBracket/Brace">{</span>
                            <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">activate</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">MOVE</span> <span class="ActionScriptOperator">|</span> <span class="ActionScriptDefault_Text">EditTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SCALE</span> <span class="ActionScriptOperator">|</span> <span class="ActionScriptDefault_Text">EditTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ROTATE</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">graphic</span> <span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">else</span> <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">graphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">geometry</span> <span class="ActionScriptReserved">is</span> <span class="ActionScriptDefault_Text">Extent</span><span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">lastActiveEditType</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">"moveScale"</span><span class="ActionScriptBracket/Brace">)</span>
                        <span class="ActionScriptBracket/Brace">{</span>
                            <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">activate</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">MOVE</span> <span class="ActionScriptOperator">|</span> <span class="ActionScriptDefault_Text">EditTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SCALE</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">graphic</span> <span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">else</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">lastActiveEditType</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">"moveEditVertices"</span><span class="ActionScriptBracket/Brace">)</span>
                        <span class="ActionScriptBracket/Brace">{</span>
                            <span class="ActionScriptDefault_Text">editTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">activate</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EditTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">EDIT_VERTICES</span> <span class="ActionScriptOperator">|</span> <span class="ActionScriptDefault_Text">EditTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">MOVE</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">graphic</span> <span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">getMeasurementGraphic</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">graphic</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">recalculate</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">graphic</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">faultFunction</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">fault</span>:<span class="ActionScriptDefault_Text">Fault</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">token</span>:<span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">dispatchEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">FaultEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">FaultEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">FAULT</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">false</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">false</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">fault</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">recalculate</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">graphic</span>:<span class="ActionScriptDefault_Text">Graphic</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">measureGeometry</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">graphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">geometry</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">moveMeasurementGraphicToTop</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">graphic</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">measureGeometry</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">geom</span>:<span class="ActionScriptDefault_Text">Geometry</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">geomSR</span>:<span class="ActionScriptDefault_Text">SpatialReference</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">geom</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">spatialReference</span>;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">geomSR</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">wkid</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">EPSG_GEOGRAPHIC</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">geomSR</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">isWebMercator</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">calculateAreasAndLengths</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">geom</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">geographicSpatialReference</span>:<span class="ActionScriptDefault_Text">SpatialReference</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">SpatialReference</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EPSG_GEOGRAPHIC</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">projectParameters</span>:<span class="ActionScriptDefault_Text">ProjectParameters</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">ProjectParameters</span>;
                    <span class="ActionScriptDefault_Text">projectParameters</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">geometries</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">geom</span> <span class="ActionScriptBracket/Brace">]</span>;
                    <span class="ActionScriptDefault_Text">projectParameters</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">outSpatialReference</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">geographicSpatialReference</span>;
                    <span class="ActionScriptDefault_Text">geometryService</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">project</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">projectParameters</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">geometryService_projectCompleteHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">GeometryServiceEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">geom</span>:<span class="ActionScriptDefault_Text">Geometry</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">result</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span>;
                <span class="ActionScriptDefault_Text">calculateAreasAndLengths</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">geom</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">calculateAreasAndLengths</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">geom</span>:<span class="ActionScriptDefault_Text">Geometry</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">switch</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">geom</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">type</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">Geometry</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">POLYLINE</span>:
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">polyline</span>:<span class="ActionScriptDefault_Text">Polyline</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Polyline</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">geom</span><span class="ActionScriptBracket/Brace">)</span>;

                        <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">isValidPolyline</span>:<span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span>
                            <span class="ActionScriptDefault_Text">polyline</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">paths</span>
                            <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">polyline</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">paths</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">&gt;</span> 0
                            <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">polyline</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">paths</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">&gt;</span> 1;

                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">isValidPolyline</span><span class="ActionScriptBracket/Brace">)</span>
                        <span class="ActionScriptBracket/Brace">{</span>
                            <span class="ActionScriptDefault_Text">calculatePolylineLengths</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">polyline</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptBracket/Brace">}</span>
                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">Geometry</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">POLYGON</span>:
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">polygon</span>:<span class="ActionScriptDefault_Text">Polygon</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Polygon</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">geom</span><span class="ActionScriptBracket/Brace">)</span>;

                        <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">isValidPolygon</span>:<span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span>
                            <span class="ActionScriptDefault_Text">polygon</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rings</span>
                            <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">polygon</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rings</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">&gt;</span> 0
                            <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">polygon</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rings</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">&gt;</span> 3;

                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">isValidPolygon</span><span class="ActionScriptBracket/Brace">)</span>
                        <span class="ActionScriptBracket/Brace">{</span>
                            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">polygon</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">GeometryUtil</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">polygonSelfIntersecting</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">polygon</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>
                            <span class="ActionScriptBracket/Brace">{</span>
                                <span class="ActionScriptDefault_Text">hideMeasurementLabel</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">lastDrawnGraphic</span><span class="ActionScriptBracket/Brace">)</span>;
                                <span class="ActionScriptReserved">return</span>;
                            <span class="ActionScriptBracket/Brace">}</span>

                            <span class="ActionScriptDefault_Text">calculatePolygonAreasAndLengths</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">polygon</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptBracket/Brace">}</span>
                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">Geometry</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">EXTENT</span>:
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">extent</span>:<span class="ActionScriptDefault_Text">Extent</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Extent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">geom</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptDefault_Text">calculatePolygonAreasAndLengths</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">extent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toPolygon</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">//convert it to polygon for measurement
</span>                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">calculatePolylineLengths</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">polyline</span>:<span class="ActionScriptDefault_Text">Polyline</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">polylineToMeasure</span>:<span class="ActionScriptDefault_Text">Polyline</span>;

                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">lengths</span>:<span class="ActionScriptDefault_Text">Array</span>;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">drawType</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">DrawTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">POLYLINE</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">normalizedPolyline</span>:<span class="ActionScriptDefault_Text">Polyline</span>;
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">map</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">wrapAround180</span><span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">GeometryUtil</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">normalizeCentralMeridian</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">polyline</span> <span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">AsyncResponder</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">getNormalizedGeometryFunction</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getNormalizedGeometryFunction</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">item</span>:<span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">token</span>:<span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
                        <span class="ActionScriptBracket/Brace">{</span>
                            <span class="ActionScriptDefault_Text">normalizedPolyline</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">item</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">0</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">Polyline</span>;
                        <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">else</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">normalizedPolyline</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">polyline</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptDefault_Text">polylineToMeasure</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getPolylineToMeasure</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">normalizedPolyline</span><span class="ActionScriptBracket/Brace">)</span>;

                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">oldPoints</span>:<span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> [];
                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">newPaths</span>:<span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> [];
                    <span class="ActionScriptReserved">for each</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">path</span>:<span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">polylineToMeasure</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">paths</span><span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">newPath</span>:<span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> [];

                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">p0</span>:<span class="ActionScriptDefault_Text">MapPoint</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">path</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span>;
                        <span class="ActionScriptDefault_Text">newPath</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">p0</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptReserved">for</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 1; <span class="ActionScriptDefault_Text">n</span> <span class="ActionScriptOperator">&lt;</span> <span class="ActionScriptDefault_Text">path</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span>; <span class="ActionScriptDefault_Text">n</span><span class="ActionScriptOperator">++</span><span class="ActionScriptBracket/Brace">)</span>
                        <span class="ActionScriptBracket/Brace">{</span>
                            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">pn</span>:<span class="ActionScriptDefault_Text">MapPoint</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">path</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">n</span><span class="ActionScriptBracket/Brace">]</span>;

                            <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">distance</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sqrt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">pow</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">pn</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">p0</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">,</span> 2<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">pow</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">pn</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">p0</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span><span class="ActionScriptOperator">,</span> 2<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;
                            <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">dx</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">pn</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">p0</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span>;
                            <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">dy</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">pn</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">p0</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span>;
                            <span class="ActionScriptReserved">for</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">k</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 1; <span class="ActionScriptDefault_Text">k</span> <span class="ActionScriptOperator">&lt;</span> <span class="ActionScriptDefault_Text">distance</span>; <span class="ActionScriptDefault_Text">k</span><span class="ActionScriptOperator">++</span><span class="ActionScriptBracket/Brace">)</span>
                            <span class="ActionScriptBracket/Brace">{</span>
                                <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">ratio</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">k</span> <span class="ActionScriptOperator">/</span> <span class="ActionScriptDefault_Text">distance</span>;
                                <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">newPointX</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">p0</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">ratio</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">dx</span>;
                                <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">newPointY</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">p0</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">ratio</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">dy</span>;
                                <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">newMapPoint</span>:<span class="ActionScriptDefault_Text">MapPoint</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">MapPoint</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">newPointX</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">newPointY</span><span class="ActionScriptBracket/Brace">)</span>;
                                <span class="ActionScriptDefault_Text">newPath</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">newMapPoint</span><span class="ActionScriptBracket/Brace">)</span>;
                            <span class="ActionScriptBracket/Brace">}</span>
                            <span class="ActionScriptDefault_Text">newPath</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">pn</span><span class="ActionScriptBracket/Brace">)</span>;
                            <span class="ActionScriptDefault_Text">p0</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">pn</span>;
                        <span class="ActionScriptBracket/Brace">}</span>
                        <span class="ActionScriptDefault_Text">newPaths</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">newPath</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">newPolyline</span>:<span class="ActionScriptDefault_Text">Polyline</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Polyline</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">newPaths</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">lengths</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">GeometryUtil</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">geodesicLengths</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">newPolyline</span> <span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">Units</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">METERS</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">polylineToMeasure</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getPolylineToMeasure</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">polyline</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">lengths</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">GeometryUtil</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">geodesicLengths</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">polylineToMeasure</span> <span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">Units</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">METERS</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>

                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">abbrDist</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">cboDistance</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedItem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">abbr</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">convDist</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">cboDistance</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedItem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">conversion</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">length</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">lengths</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">convDist</span>;

                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">==</span> 0<span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">return</span>;
                <span class="ActionScriptBracket/Brace">}</span>

                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">label</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">createLengthsLabel</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">abbrDist</span><span class="ActionScriptBracket/Brace">)</span>;

                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">graphic</span>:<span class="ActionScriptDefault_Text">Graphic</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">isEditing</span> <span class="ActionScriptOperator">?</span> <span class="ActionScriptDefault_Text">editGraphic</span> : <span class="ActionScriptDefault_Text">lastDrawnGraphic</span>;
                <span class="ActionScriptDefault_Text">addDrawLabel</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">label</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">graphic</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">updateMeasureLabelPosition</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">graphic</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getPolylineToMeasure</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">polyline</span>:<span class="ActionScriptDefault_Text">Polyline</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Polyline</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">result</span>:<span class="ActionScriptDefault_Text">Polyline</span>;

                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">polylineSR</span>:<span class="ActionScriptDefault_Text">SpatialReference</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">polyline</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">spatialReference</span>;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">polylineSR</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">wkid</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">EPSG_GEOGRAPHIC</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">result</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">polyline</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span> <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">polylineSR</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">isWebMercator</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">result</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">WebMercatorUtil</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">webMercatorToGeographic</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">polyline</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">Polyline</span>;
                <span class="ActionScriptBracket/Brace">}</span>

                <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">result</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">createLengthsLabel</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">length</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">lengthAbbrev</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">String</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">lengthLabel</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">" "</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">numFormatter</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">format</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">length</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">" "</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">lengthAbbrev</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">calculatePolygonAreasAndLengths</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">polygon</span>:<span class="ActionScriptDefault_Text">Polygon</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">polygonToMeasure</span>:<span class="ActionScriptDefault_Text">Polygon</span>;

                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">polygonSR</span>:<span class="ActionScriptDefault_Text">SpatialReference</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">polygon</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">spatialReference</span>;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">polygonSR</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">wkid</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">EPSG_GEOGRAPHIC</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">polygonToMeasure</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">polygon</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span> <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">polygonSR</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">isWebMercator</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">polygonToMeasure</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">WebMercatorUtil</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">webMercatorToGeographic</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">polygon</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">Polygon</span>;
                <span class="ActionScriptBracket/Brace">}</span>

                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">lengths</span>:<span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">GeometryUtil</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">geodesicLengths</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Polyline</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">polygonToMeasure</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rings</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">Units</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">METERS</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">areas</span>:<span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">GeometryUtil</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">geodesicAreas</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">polygonToMeasure</span> <span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">Units</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SQUARE_METERS</span><span class="ActionScriptBracket/Brace">)</span>;

                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">abbrArea</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">cboArea</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedItem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">abbr</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">convArea</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">cboArea</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedItem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">conversion</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">abbrDist</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">cboDistance</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedItem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">abbr</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">convDist</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">cboDistance</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedItem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">conversion</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">area</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">abs</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">areas</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">convArea</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">length</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">lengths</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">convDist</span>;

                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">area</span> <span class="ActionScriptOperator">==</span> 0 <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">==</span> 0<span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">return</span>;
                <span class="ActionScriptBracket/Brace">}</span>

                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">label</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">area</span> <span class="ActionScriptOperator">&gt;</span> 0 <span class="ActionScriptOperator">?</span>
                    <span class="ActionScriptDefault_Text">createAreasAndLengthsLabel</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">area</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">abbrArea</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">abbrDist</span><span class="ActionScriptBracket/Brace">)</span> :
                    <span class="ActionScriptDefault_Text">createLengthsLabel</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">abbrDist</span><span class="ActionScriptBracket/Brace">)</span>;

                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">graphic</span>:<span class="ActionScriptDefault_Text">Graphic</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">isEditing</span> <span class="ActionScriptOperator">?</span> <span class="ActionScriptDefault_Text">editGraphic</span> : <span class="ActionScriptDefault_Text">lastDrawnGraphic</span>;
                <span class="ActionScriptDefault_Text">addDrawLabel</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">label</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">graphic</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">updateMeasureLabelPosition</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">graphic</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">createAreasAndLengthsLabel</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">area</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">areaAbbrev</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">length</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">lengthAbbrev</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">String</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">areaLabel</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">" "</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">numFormatter</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">format</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">area</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">" "</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">areaAbbrev</span> <span class="ActionScriptOperator">+</span>
                    <span class="ActionScriptString">"\n"</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">perimeterLabel</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">" "</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">numFormatter</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">format</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">length</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">" "</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">lengthAbbrev</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">addDrawLabel</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">label</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">graphic</span>:<span class="ActionScriptDefault_Text">Graphic</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">measurementGraphic</span>:<span class="ActionScriptDefault_Text">Graphic</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getMeasurementGraphic</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">graphic</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">measurementGraphic</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">measurementGraphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">symbol</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">TextSymbol</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">text</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">label</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">else</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">measurementGraphic</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Graphic</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">measurePt</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">measurementGraphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">symbol</span><span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">txtSym</span>:<span class="ActionScriptDefault_Text">TextSymbol</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">TextSymbol</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">label</span><span class="ActionScriptBracket/Brace">)</span>;
                        <span class="ActionScriptDefault_Text">txtSym</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">yoffset</span> <span class="ActionScriptOperator">=</span> 8;
                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">txtFormat</span>:<span class="ActionScriptDefault_Text">TextFormat</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">TextFormat</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"Arial"</span><span class="ActionScriptOperator">,</span> 12<span class="ActionScriptOperator">,</span> 0x000000<span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">true</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">// black label
</span>                        <span class="ActionScriptDefault_Text">txtSym</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">textFormat</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">txtFormat</span>;
                        <span class="ActionScriptDefault_Text">measurementGraphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">symbol</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">txtSym</span>;
                    <span class="ActionScriptBracket/Brace">}</span>

                    <span class="ActionScriptComment">// also remove measurement label if any
</span>                    <span class="ActionScriptDefault_Text">measurementGraphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">mouseEnabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                    <span class="ActionScriptDefault_Text">measurementGraphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">mouseChildren</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                    <span class="ActionScriptDefault_Text">measurementGraphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">filters</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">measurementBorderFilter</span> <span class="ActionScriptBracket/Brace">]</span>;
                    <span class="ActionScriptDefault_Text">graphicsLayer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">add</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">measurementGraphic</span><span class="ActionScriptBracket/Brace">)</span>;

                    <span class="ActionScriptDefault_Text">addMeasurementGraphic</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">graphic</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">measurementGraphic</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">addMeasurementGraphic</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">graphic</span>:<span class="ActionScriptDefault_Text">Graphic</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">measurementGraphic</span>:<span class="ActionScriptDefault_Text">Graphic</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">graphicToMeasurementGraphic</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">graphic</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">measurementGraphic</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">updateMeasureLabelPosition</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">graphic</span>:<span class="ActionScriptDefault_Text">Graphic</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">geom</span>:<span class="ActionScriptDefault_Text">Geometry</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">graphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">geometry</span>;

                <span class="ActionScriptReserved">switch</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">geom</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">type</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">Geometry</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">POLYLINE</span>:
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">polyline</span>:<span class="ActionScriptDefault_Text">Polyline</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">geom</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">Polyline</span>;
                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">polyline</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">paths</span><span class="ActionScriptBracket/Brace">)</span>
                        <span class="ActionScriptBracket/Brace">{</span>
                            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">polylineExtent</span>:<span class="ActionScriptDefault_Text">Extent</span>;
                            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">polyline</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">paths</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">==</span> 1<span class="ActionScriptBracket/Brace">)</span>
                            <span class="ActionScriptBracket/Brace">{</span>
                                <span class="ActionScriptDefault_Text">polylineExtent</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">polyline</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">extent</span>;
                            <span class="ActionScriptBracket/Brace">}</span>
                            <span class="ActionScriptReserved">else</span>
                            <span class="ActionScriptBracket/Brace">{</span>
                                <span class="ActionScriptComment">// Multiple paths, hence show the measurement label at the center of first path
</span>                                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">tempPolyline</span>:<span class="ActionScriptDefault_Text">Polyline</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Polyline</span>;
                                <span class="ActionScriptDefault_Text">tempPolyline</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">paths</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">polyline</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">paths</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">]</span>;
                                <span class="ActionScriptDefault_Text">polylineExtent</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">tempPolyline</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">extent</span>;
                            <span class="ActionScriptBracket/Brace">}</span>
                            <span class="ActionScriptDefault_Text">measurePt</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">polylineExtent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">center</span>;
                        <span class="ActionScriptBracket/Brace">}</span>
                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">Geometry</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">POLYGON</span>:
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">polygon</span>:<span class="ActionScriptDefault_Text">Polygon</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">geom</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">Polygon</span>;
                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">polygon</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rings</span><span class="ActionScriptBracket/Brace">)</span>
                        <span class="ActionScriptBracket/Brace">{</span>
                            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">polygonExtent</span>:<span class="ActionScriptDefault_Text">Extent</span>;
                            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">polygon</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rings</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">==</span> 1<span class="ActionScriptBracket/Brace">)</span>
                            <span class="ActionScriptBracket/Brace">{</span>
                                <span class="ActionScriptDefault_Text">polygonExtent</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">polygon</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">extent</span>;
                            <span class="ActionScriptBracket/Brace">}</span>
                            <span class="ActionScriptReserved">else</span> <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">polygon</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rings</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">&gt;</span> 1<span class="ActionScriptBracket/Brace">)</span>
                            <span class="ActionScriptBracket/Brace">{</span>
                                <span class="ActionScriptComment">// Multiple rings, hence show the measurement label at the center of first ring
</span>                                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">tempPolygon</span>:<span class="ActionScriptDefault_Text">Polygon</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Polygon</span>;
                                <span class="ActionScriptDefault_Text">tempPolygon</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rings</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[</span> <span class="ActionScriptDefault_Text">polygon</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rings</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">]</span>;
                                <span class="ActionScriptDefault_Text">polygonExtent</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">tempPolygon</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">extent</span>;
                            <span class="ActionScriptBracket/Brace">}</span>
                            <span class="ActionScriptDefault_Text">measurePt</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">polygonExtent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">center</span>;
                        <span class="ActionScriptBracket/Brace">}</span>
                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptDefault_Text">Geometry</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">EXTENT</span>:
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">measurePt</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">geom</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">extent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">center</span>;
                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>

                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">measurementGraphic</span>:<span class="ActionScriptDefault_Text">Graphic</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getMeasurementGraphic</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">graphic</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">measurementGraphic</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">measurementGraphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">geometry</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">measurePt</span>;
                    <span class="ActionScriptDefault_Text">measurementGraphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">visible</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">geometryService_simplifyCompleteHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">GeometryServiceEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">polygon</span>:<span class="ActionScriptDefault_Text">Polygon</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">result</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">Polygon</span>;
                <span class="ActionScriptDefault_Text">lastDrawnGraphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">geometry</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">polygon</span>; <span class="ActionScriptComment">//update to avoid simplifying again
</span>
                <span class="ActionScriptDefault_Text">measureGeometry</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">polygon</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">geometryService_faultHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">info</span>:<span class="ActionScriptDefault_Text">Object</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">token</span>:<span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">showError</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">info</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">wTemplate_closeHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">Event</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">graphicsLayer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">visible</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                <span class="ActionScriptDefault_Text">frmDraw</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">visible</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                <span class="ActionScriptDefault_Text">showMeasurements</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;

                <span class="ActionScriptDefault_Text">setMapAction</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">null</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptComment">// deactivate drawTool
</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">selectedDrawingIcon</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">selectedDrawingIcon</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">filters</span> <span class="ActionScriptOperator">=</span> [];
                    <span class="ActionScriptDefault_Text">selectedDrawingIcon</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">wTemplate_openHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">Event</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">graphicsLayer</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">graphicsLayer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">visible</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">editTool_UpdateHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">EditEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">!</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">graphic</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">graphics</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">return</span>;
                <span class="ActionScriptBracket/Brace">}</span>

                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">graphicToMeasure</span>:<span class="ActionScriptDefault_Text">Graphic</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">graphic</span> <span class="ActionScriptOperator">?</span> <span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">graphic</span> : <span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">graphics</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span>;

                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">getMeasurementGraphic</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">graphicToMeasure</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">measureGraphicClientSide</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">graphicToMeasure</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">measureGraphicClientSide</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">graphic</span>:<span class="ActionScriptDefault_Text">Graphic</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">geom</span>:<span class="ActionScriptDefault_Text">Geometry</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">graphic</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">geometry</span>;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">geom</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">spatialReference</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">wkid</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">EPSG_GEOGRAPHIC</span>
                    <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">geom</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">spatialReference</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">isWebMercator</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">calculateAreasAndLengths</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">geom</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">hideMeasurementLabel</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">graphic</span>:<span class="ActionScriptDefault_Text">Graphic</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">graphicToMeasurementGraphic</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">graphic</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">visible</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">editTool_editStartHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">EditEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">!</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">graphic</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">graphics</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">return</span>;
                <span class="ActionScriptBracket/Brace">}</span>

                <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">drawnGraphic</span>:<span class="ActionScriptDefault_Text">Graphic</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">graphic</span> <span class="ActionScriptOperator">?</span> <span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">graphic</span> : <span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">graphics</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span>;
                <span class="ActionScriptDefault_Text">moveMeasurementGraphicToTop</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">drawnGraphic</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>

            <span class="ActionScriptReserved">protected</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getLongestString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">...</span> <span class="ActionScriptDefault_Text">rest</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">String</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">longest</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">""</span>;
                <span class="ActionScriptReserved">for</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">i</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0; <span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptOperator">&lt;</span> <span class="ActionScriptDefault_Text">rest</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span>; <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">++</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">n</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">rest</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span>;
                    <span class="ActionScriptDefault_Text">longest</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">n</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">&gt;</span> <span class="ActionScriptDefault_Text">longest</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">?</span> <span class="ActionScriptDefault_Text">n</span> : <span class="ActionScriptDefault_Text">longest</span>;
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">longest</span>;
            <span class="ActionScriptBracket/Brace">}</span>
        <span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">&gt;</span>
    <span class="MXMLSpecial_Tag">&lt;/fx:Script&gt;</span>

    <span class="MXMLSpecial_Tag">&lt;fx:Declarations&gt;</span>
        <span class="MXMLComponent_Tag">&lt;s:GlowFilter</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">glowFilter</span><span class="MXMLDefault_Text">"
                      alpha="</span><span class="MXMLString">1</span><span class="MXMLDefault_Text">"
                      color="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getStyle</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'focusColor'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                      inner="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">"
                      strength="</span><span class="MXMLString">2</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

        <span class="MXMLComponent_Tag">&lt;s:GlowFilter</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">measurementBorderFilter</span><span class="MXMLDefault_Text">"
                      blurX="</span><span class="MXMLString">3</span><span class="MXMLDefault_Text">"
                      blurY="</span><span class="MXMLString">3</span><span class="MXMLDefault_Text">"
                      color="</span><span class="MXMLString">0xFFFFFF</span><span class="MXMLDefault_Text">"
                      strength="</span><span class="MXMLString">7</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

        <span class="MXMLComponent_Tag">&lt;esri:GeometryService</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">geometryService</span><span class="MXMLDefault_Text">"
                              fault="</span><span class="ActionScriptDefault_Text">geometryService_faultHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                              projectComplete="</span><span class="ActionScriptDefault_Text">geometryService_projectCompleteHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                              simplifyComplete="</span><span class="ActionScriptDefault_Text">geometryService_simplifyCompleteHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

        <span class="MXMLComponent_Tag">&lt;mx:NumberFormatter</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">numFormatter</span><span class="MXMLDefault_Text">"
                            precision="</span><span class="MXMLString">2</span><span class="MXMLDefault_Text">"
                            useThousandsSeparator="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

        <span class="MXMLComponent_Tag">&lt;esri:SimpleFillSymbol</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">fillSymbol</span><span class="MXMLDefault_Text">"
                               alpha="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">numFillAlpha</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">value</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                               color="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">cpFill</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedColor</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                               style="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fillStyle</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedItem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">style</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">numFillOutlineWidth</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">value</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" color="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">cpFillOutline</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedColor</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/esri:SimpleFillSymbol&gt;</span>

        <span class="MXMLComponent_Tag">&lt;esri:SimpleLineSymbol</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">lineSymbol</span><span class="MXMLDefault_Text">"
                               width="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">numLineWidth</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">value</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                               alpha="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">numLineAlpha</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">value</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                               color="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">cpLine</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedColor</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                               style="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">lineStyle</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedItem</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">style</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

        <span class="MXMLComponent_Tag">&lt;esri:EditTool</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">editTool</span><span class="MXMLDefault_Text">" map="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">map</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
    <span class="MXMLSpecial_Tag">&lt;/fx:Declarations&gt;</span>

    <span class="MXMLComponent_Tag">&lt;viewer:WidgetTemplate</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">wTemplate</span><span class="MXMLDefault_Text">"
                           closed="</span><span class="ActionScriptDefault_Text">wTemplate_closeHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                           open="</span><span class="ActionScriptDefault_Text">wTemplate_openHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
        <span class="MXMLComponent_Tag">&lt;s:VGroup</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">" height="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                  gap="</span><span class="MXMLString">2</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;s:HGroup</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">drawImageGroup</span><span class="MXMLDefault_Text">"
                      width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                      gap="</span><span class="MXMLString">2</span><span class="MXMLDefault_Text">"
                      horizontalAlign="</span><span class="MXMLString">center</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                <span class="MXMLComponent_Tag">&lt;components:FocusableImage</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">DrawTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">MAPPOINT</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           width="</span><span class="MXMLString">40</span><span class="MXMLDefault_Text">" height="</span><span class="MXMLString">40</span><span class="MXMLDefault_Text">"
                                           buttonMode="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">"
                                           click="</span><span class="ActionScriptDefault_Text">activateDrawTool</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                                           rollOut="</span><span class="ActionScriptDefault_Text">drawIcon_rollOutHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                                           rollOver="</span><span class="ActionScriptDefault_Text">drawIcon_rollOverHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                                           source="</span><span class="MXMLString">assets/images/i_draw_point.png</span><span class="MXMLDefault_Text">"
                                           toolTip="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">drawPointLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           useHandCursor="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                <span class="MXMLComponent_Tag">&lt;components:FocusableImage</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">DrawTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">POLYLINE</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           width="</span><span class="MXMLString">40</span><span class="MXMLDefault_Text">" height="</span><span class="MXMLString">40</span><span class="MXMLDefault_Text">"
                                           buttonMode="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">"
                                           click="</span><span class="ActionScriptDefault_Text">activateDrawTool</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                                           rollOut="</span><span class="ActionScriptDefault_Text">drawIcon_rollOutHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                                           rollOver="</span><span class="ActionScriptDefault_Text">drawIcon_rollOverHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                                           source="</span><span class="MXMLString">assets/images/i_draw_line.png</span><span class="MXMLDefault_Text">"
                                           toolTip="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">drawLineLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           useHandCursor="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                <span class="MXMLComponent_Tag">&lt;components:FocusableImage</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">DrawTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">FREEHAND_POLYLINE</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           width="</span><span class="MXMLString">40</span><span class="MXMLDefault_Text">" height="</span><span class="MXMLString">40</span><span class="MXMLDefault_Text">"
                                           buttonMode="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">"
                                           click="</span><span class="ActionScriptDefault_Text">activateDrawTool</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                                           rollOut="</span><span class="ActionScriptDefault_Text">drawIcon_rollOutHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                                           rollOver="</span><span class="ActionScriptDefault_Text">drawIcon_rollOverHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                                           source="</span><span class="MXMLString">assets/images/i_draw_freeline.png</span><span class="MXMLDefault_Text">"
                                           toolTip="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">drawFreehandLineLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           useHandCursor="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                <span class="MXMLComponent_Tag">&lt;components:FocusableImage</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">DrawTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">EXTENT</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           width="</span><span class="MXMLString">40</span><span class="MXMLDefault_Text">" height="</span><span class="MXMLString">40</span><span class="MXMLDefault_Text">"
                                           buttonMode="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">"
                                           click="</span><span class="ActionScriptDefault_Text">activateDrawTool</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                                           rollOut="</span><span class="ActionScriptDefault_Text">drawIcon_rollOutHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                                           rollOver="</span><span class="ActionScriptDefault_Text">drawIcon_rollOverHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                                           source="</span><span class="MXMLString">assets/images/i_draw_rect.png</span><span class="MXMLDefault_Text">"
                                           toolTip="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">drawRectangleLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           useHandCursor="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                <span class="MXMLComponent_Tag">&lt;components:FocusableImage</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">DrawTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">CIRCLE</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           width="</span><span class="MXMLString">40</span><span class="MXMLDefault_Text">" height="</span><span class="MXMLString">40</span><span class="MXMLDefault_Text">"
                                           buttonMode="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">"
                                           click="</span><span class="ActionScriptDefault_Text">activateDrawTool</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                                           rollOut="</span><span class="ActionScriptDefault_Text">drawIcon_rollOutHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                                           rollOver="</span><span class="ActionScriptDefault_Text">drawIcon_rollOverHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                                           source="</span><span class="MXMLString">assets/images/i_draw_circle.png</span><span class="MXMLDefault_Text">"
                                           toolTip="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">drawCircleLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           useHandCursor="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                <span class="MXMLComponent_Tag">&lt;components:FocusableImage</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">DrawTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ELLIPSE</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           width="</span><span class="MXMLString">40</span><span class="MXMLDefault_Text">" height="</span><span class="MXMLString">40</span><span class="MXMLDefault_Text">"
                                           buttonMode="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">"
                                           click="</span><span class="ActionScriptDefault_Text">activateDrawTool</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                                           rollOut="</span><span class="ActionScriptDefault_Text">drawIcon_rollOutHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                                           rollOver="</span><span class="ActionScriptDefault_Text">drawIcon_rollOverHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                                           source="</span><span class="MXMLString">assets/images/i_draw_ellipse.png</span><span class="MXMLDefault_Text">"
                                           toolTip="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">drawEllipseLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           useHandCursor="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                <span class="MXMLComponent_Tag">&lt;components:FocusableImage</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">DrawTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">POLYGON</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           width="</span><span class="MXMLString">40</span><span class="MXMLDefault_Text">" height="</span><span class="MXMLString">40</span><span class="MXMLDefault_Text">"
                                           buttonMode="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">"
                                           click="</span><span class="ActionScriptDefault_Text">activateDrawTool</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                                           rollOut="</span><span class="ActionScriptDefault_Text">drawIcon_rollOutHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                                           rollOver="</span><span class="ActionScriptDefault_Text">drawIcon_rollOverHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                                           source="</span><span class="MXMLString">assets/images/i_draw_poly.png</span><span class="MXMLDefault_Text">"
                                           toolTip="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">drawPolygonLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           useHandCursor="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                <span class="MXMLComponent_Tag">&lt;components:FocusableImage</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">DrawTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">FREEHAND_POLYGON</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           width="</span><span class="MXMLString">40</span><span class="MXMLDefault_Text">" height="</span><span class="MXMLString">40</span><span class="MXMLDefault_Text">"
                                           buttonMode="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">"
                                           click="</span><span class="ActionScriptDefault_Text">activateDrawTool</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                                           rollOut="</span><span class="ActionScriptDefault_Text">drawIcon_rollOutHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                                           rollOver="</span><span class="ActionScriptDefault_Text">drawIcon_rollOverHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                                           source="</span><span class="MXMLString">assets/images/i_draw_freepoly.png</span><span class="MXMLDefault_Text">"
                                           toolTip="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">drawFreehandPolygonLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           useHandCursor="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                <span class="MXMLComponent_Tag">&lt;components:FocusableImage</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">text</span><span class="MXMLDefault_Text">" name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">DrawTool</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">MAPPOINT</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           width="</span><span class="MXMLString">40</span><span class="MXMLDefault_Text">" height="</span><span class="MXMLString">40</span><span class="MXMLDefault_Text">"
                                           buttonMode="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">"
                                           click="</span><span class="ActionScriptDefault_Text">activateDrawTool</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                                           rollOut="</span><span class="ActionScriptDefault_Text">drawIcon_rollOutHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                                           rollOver="</span><span class="ActionScriptDefault_Text">drawIcon_rollOverHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                                           source="</span><span class="MXMLString">assets/images/i_draw_text.png</span><span class="MXMLDefault_Text">"
                                           toolTip="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">addTextLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           useHandCursor="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/s:HGroup&gt;</span>

            <span class="MXMLComponent_Tag">&lt;s:HGroup</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                      horizontalAlign="</span><span class="MXMLString">right</span><span class="MXMLDefault_Text">"
                      paddingRight="</span><span class="MXMLString">10</span><span class="MXMLDefault_Text">"
                      paddingTop="</span><span class="MXMLString">2</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                <span class="MXMLComponent_Tag">&lt;s:Label</span><span class="MXMLDefault_Text"> buttonMode="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">"
                         click="</span><span class="ActionScriptDefault_Text">clear</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                         fontWeight="</span><span class="MXMLString">bold</span><span class="MXMLDefault_Text">"
                         includeInLayout="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">hasDrawnGraphics</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                         text="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">clearLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                         textDecoration="</span><span class="MXMLString">underline</span><span class="MXMLDefault_Text">"
                         visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">hasDrawnGraphics</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/s:HGroup&gt;</span>

            <span class="MXMLComponent_Tag">&lt;mx:Form</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">frmDraw</span><span class="MXMLDefault_Text">"
                     width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">" height="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                     paddingBottom="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">"
                     verticalGap="</span><span class="MXMLString">8</span><span class="MXMLDefault_Text">"
                     verticalScrollPolicy="</span><span class="MXMLString">off</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                <span class="MXMLComponent_Tag">&lt;mx:FormItem</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                             includeInLayout="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">addingText</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                             label="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">textLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                             visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">addingText</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;s:HGroup</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">" verticalAlign="</span><span class="MXMLString">middle</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;s:TextInput</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">txtLabel</span><span class="MXMLDefault_Text">"
                                     width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                                     text="</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                        <span class="MXMLComponent_Tag">&lt;s:ToggleButton</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">bold</span><span class="MXMLDefault_Text">"
                                        width="</span><span class="MXMLString">32</span><span class="MXMLDefault_Text">"
                                        fontWeight="</span><span class="MXMLString">bold</span><span class="MXMLDefault_Text">"
                                        label="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">textBoldLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                        toolTip="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">textBoldTooltip</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                        <span class="MXMLComponent_Tag">&lt;s:ToggleButton</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">italic</span><span class="MXMLDefault_Text">"
                                        width="</span><span class="MXMLString">32</span><span class="MXMLDefault_Text">"
                                        fontStyle="</span><span class="MXMLString">italic</span><span class="MXMLDefault_Text">"
                                        fontWeight="</span><span class="MXMLString">bold</span><span class="MXMLDefault_Text">"
                                        label="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">textItalicLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                        toolTip="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">textItalicTooltip</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                        <span class="MXMLComponent_Tag">&lt;s:ToggleButton</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">underline</span><span class="MXMLDefault_Text">"
                                        width="</span><span class="MXMLString">32</span><span class="MXMLDefault_Text">"
                                        fontWeight="</span><span class="MXMLString">bold</span><span class="MXMLDefault_Text">"
                                        label="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">textUnderlineLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                        textDecoration="</span><span class="MXMLString">underline</span><span class="MXMLDefault_Text">"
                                        toolTip="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">textUnderlineTooltip</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;/s:HGroup&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/mx:FormItem&gt;</span>

                <span class="MXMLComponent_Tag">&lt;mx:FormItem</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                             includeInLayout="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">addingText</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                             label="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">textFontLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                             visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">addingText</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;s:ComboBox</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">fontNameSelection</span><span class="MXMLDefault_Text">"
                                dataProvider="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fontList</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                requireSelection="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/mx:FormItem&gt;</span>

                <span class="MXMLComponent_Tag">&lt;mx:FormItem</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                             includeInLayout="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">addingText</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                             label="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">textColorLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                             visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">addingText</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;s:HGroup</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                              gap="</span><span class="MXMLString">4</span><span class="MXMLDefault_Text">"
                              verticalAlign="</span><span class="MXMLString">middle</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:ColorPicker</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">cpText</span><span class="MXMLDefault_Text">" selectedColor="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">defaultDrawColor</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                        <span class="MXMLComponent_Tag">&lt;mx:Label</span><span class="MXMLDefault_Text"> text="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">textSizeLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                        <span class="MXMLComponent_Tag">&lt;mx:NumericStepper</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">numTextSize</span><span class="MXMLDefault_Text">"
                                           maximum="</span><span class="MXMLString">100</span><span class="MXMLDefault_Text">"
                                           minimum="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">"
                                           value="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">defaultTextFontSize</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;/s:HGroup&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/mx:FormItem&gt;</span>

                <span class="MXMLComponent_Tag">&lt;mx:FormItem</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                             includeInLayout="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">drawingPoint</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                             label="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">markerColorLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                             visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">drawingPoint</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;s:HGroup</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                              gap="</span><span class="MXMLString">55</span><span class="MXMLDefault_Text">"
                              verticalAlign="</span><span class="MXMLString">middle</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:ColorPicker</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">cpMarker</span><span class="MXMLDefault_Text">" selectedColor="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">defaultDrawColor</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                        <span class="MXMLComponent_Tag">&lt;s:HGroup</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                                  gap="</span><span class="MXMLString">24</span><span class="MXMLDefault_Text">"
                                  verticalAlign="</span><span class="MXMLString">middle</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;mx:Label</span><span class="MXMLDefault_Text"> text="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">markerStyleLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                            <span class="MXMLComponent_Tag">&lt;s:DropDownList</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">markerStyle</span><span class="MXMLDefault_Text">"
                                            width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                                            labelField="</span><span class="MXMLString">name</span><span class="MXMLDefault_Text">"
                                            selectedIndex="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;s:typicalItem&gt;</span>
                                    <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getLongestString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'markerStyleCircle'</span><span class="ActionScriptOperator">,</span>
                                                                       <span class="ActionScriptString">'markerStyleCross'</span><span class="ActionScriptOperator">,</span>
                                                                       <span class="ActionScriptString">'markerStyleDiamond'</span><span class="ActionScriptOperator">,</span>
                                                                       <span class="ActionScriptString">'markerStyleSquare'</span><span class="ActionScriptOperator">,</span>
                                                                       <span class="ActionScriptString">'markerStyleX'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;/s:typicalItem&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;s:ArrayList&gt;</span>
                                    <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'markerStyleCircle'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">SimpleMarkerSymbol</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">STYLE_CIRCLE</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                                    <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'markerStyleCross'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">SimpleMarkerSymbol</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">STYLE_CROSS</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                                    <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'markerStyleDiamond'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">SimpleMarkerSymbol</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">STYLE_DIAMOND</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                                    <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'markerStyleSquare'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">SimpleMarkerSymbol</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">STYLE_SQUARE</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                                    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment"> triangle style is not supported by the 10.1 print task </span><span class="MXMLComment">--&gt;</span>
                                    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment">&lt;fx:Object name="{getDefaultString('markerStyleTriangle')}" style="{SimpleMarkerSymbol.STYLE_TRIANGLE}"/&gt;</span><span class="MXMLComment">--&gt;</span>
                                    <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'markerStyleX'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">SimpleMarkerSymbol</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">STYLE_X</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;/s:ArrayList&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/s:DropDownList&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;/s:HGroup&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;/s:HGroup&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/mx:FormItem&gt;</span>

                <span class="MXMLComponent_Tag">&lt;mx:FormItem</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                             includeInLayout="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">drawingPoint</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                             label="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">markerSizeLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                             visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">drawingPoint</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;s:HGroup</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                              gap="</span><span class="MXMLString">21</span><span class="MXMLDefault_Text">"
                              verticalAlign="</span><span class="MXMLString">middle</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:NumericStepper</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">numMarkerSize</span><span class="MXMLDefault_Text">"
                                           maximum="</span><span class="MXMLString">50</span><span class="MXMLDefault_Text">"
                                           minimum="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">"
                                           value="</span><span class="MXMLString">15</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;s:Label</span><span class="MXMLDefault_Text"> text="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">markerAlphaLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                        <span class="MXMLComponent_Tag">&lt;mx:NumericStepper</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">numMarkerAlpha</span><span class="MXMLDefault_Text">"
                                           maximum="</span><span class="MXMLString">1</span><span class="MXMLDefault_Text">"
                                           minimum="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">"
                                           stepSize="</span><span class="MXMLString">0.1</span><span class="MXMLDefault_Text">"
                                           value="</span><span class="MXMLString">1</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;/s:HGroup&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/mx:FormItem&gt;</span>

                <span class="MXMLComponent_Tag">&lt;mx:FormItem</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                             includeInLayout="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">drawingPoint</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                             label="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">markerOutlineColorLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                             visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">drawingPoint</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;s:HGroup</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                              gap="</span><span class="MXMLString">55</span><span class="MXMLDefault_Text">"
                              verticalAlign="</span><span class="MXMLString">middle</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:ColorPicker</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">cpMarkerOutline</span><span class="MXMLDefault_Text">" selectedColor="</span><span class="MXMLString">0x00000</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                        <span class="MXMLComponent_Tag">&lt;s:HGroup</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                                  gap="</span><span class="MXMLString">24</span><span class="MXMLDefault_Text">"
                                  verticalAlign="</span><span class="MXMLString">middle</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;s:Label</span><span class="MXMLDefault_Text"> text="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">markerOutlineWidthLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                            <span class="MXMLComponent_Tag">&lt;mx:NumericStepper</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">numMarkerOutlineWidth</span><span class="MXMLDefault_Text">"
                                               maximum="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">"
                                               minimum="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">"
                                               stepSize="</span><span class="MXMLString">1</span><span class="MXMLDefault_Text">"
                                               value="</span><span class="MXMLString">1</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;/s:HGroup&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;/s:HGroup&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/mx:FormItem&gt;</span>

                <span class="MXMLComponent_Tag">&lt;mx:FormItem</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                             includeInLayout="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">drawingPolygon</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                             label="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fillColorLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                             visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">drawingPolygon</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>

                    <span class="MXMLComponent_Tag">&lt;s:HGroup</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                              gap="</span><span class="MXMLString">55</span><span class="MXMLDefault_Text">"
                              verticalAlign="</span><span class="MXMLString">middle</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:ColorPicker</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">cpFill</span><span class="MXMLDefault_Text">" selectedColor="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">defaultDrawColor</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                        <span class="MXMLComponent_Tag">&lt;s:HGroup</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                                  gap="</span><span class="MXMLString">24</span><span class="MXMLDefault_Text">"
                                  verticalAlign="</span><span class="MXMLString">middle</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;mx:Label</span><span class="MXMLDefault_Text"> text="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fillStyleLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                            <span class="MXMLComponent_Tag">&lt;s:DropDownList</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">fillStyle</span><span class="MXMLDefault_Text">"
                                            width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                                            labelField="</span><span class="MXMLString">name</span><span class="MXMLDefault_Text">"
                                            selectedIndex="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;s:typicalItem&gt;</span>
                                    <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getLongestString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'fillStyleSolid'</span><span class="ActionScriptOperator">,</span>
                                                                       <span class="ActionScriptString">'fillStyleBackwardDiagonal'</span><span class="ActionScriptOperator">,</span>
                                                                       <span class="ActionScriptString">'fillStyleCross'</span><span class="ActionScriptOperator">,</span>
                                                                       <span class="ActionScriptString">'fillStyleForwardDiagonal'</span><span class="ActionScriptOperator">,</span>
                                                                       <span class="ActionScriptString">'fillStyleHorizontal'</span><span class="ActionScriptOperator">,</span>
                                                                       <span class="ActionScriptString">'fillStyleVertical'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;/s:typicalItem&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;s:ArrayList&gt;</span>
                                    <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'fillStyleSolid'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">SimpleFillSymbol</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">STYLE_SOLID</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                                    <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'fillStyleBackwardDiagonal'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">SimpleFillSymbol</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">STYLE_BACKWARD_DIAGONAL</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                                    <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'fillStyleCross'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">SimpleFillSymbol</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">STYLE_CROSS</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                                    <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'fillStyleForwardDiagonal'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">SimpleFillSymbol</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">STYLE_FORWARD_DIAGONAL</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                                    <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'fillStyleHorizontal'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">SimpleFillSymbol</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">STYLE_HORIZONTAL</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                                    <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'fillStyleVertical'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">SimpleFillSymbol</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">STYLE_VERTICAL</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;/s:ArrayList&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/s:DropDownList&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;/s:HGroup&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;/s:HGroup&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/mx:FormItem&gt;</span>

                <span class="MXMLComponent_Tag">&lt;mx:FormItem</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                             includeInLayout="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">drawingPolygon</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                             label="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fillAlphaLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                             visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">drawingPolygon</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;mx:NumericStepper</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">numFillAlpha</span><span class="MXMLDefault_Text">"
                                       maximum="</span><span class="MXMLString">1</span><span class="MXMLDefault_Text">"
                                       minimum="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">"
                                       stepSize="</span><span class="MXMLString">0.1</span><span class="MXMLDefault_Text">"
                                       value="</span><span class="MXMLString">0.5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/mx:FormItem&gt;</span>

                <span class="MXMLComponent_Tag">&lt;mx:FormItem</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                             includeInLayout="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">drawingPolygon</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                             label="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fillOutlineColorLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                             visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">drawingPolygon</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;s:HGroup</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                              gap="</span><span class="MXMLString">55</span><span class="MXMLDefault_Text">"
                              verticalAlign="</span><span class="MXMLString">middle</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:ColorPicker</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">cpFillOutline</span><span class="MXMLDefault_Text">" selectedColor="</span><span class="MXMLString">0x000000</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                        <span class="MXMLComponent_Tag">&lt;s:HGroup</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                                  gap="</span><span class="MXMLString">24</span><span class="MXMLDefault_Text">"
                                  verticalAlign="</span><span class="MXMLString">middle</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;s:Label</span><span class="MXMLDefault_Text"> text="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">fillOutlineWidthLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                            <span class="MXMLComponent_Tag">&lt;mx:NumericStepper</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">numFillOutlineWidth</span><span class="MXMLDefault_Text">"
                                               maximum="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">"
                                               minimum="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">"
                                               stepSize="</span><span class="MXMLString">1</span><span class="MXMLDefault_Text">"
                                               value="</span><span class="MXMLString">1</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;/s:HGroup&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;/s:HGroup&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/mx:FormItem&gt;</span>

                <span class="MXMLComponent_Tag">&lt;mx:FormItem</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                             includeInLayout="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">drawingLine</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                             label="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">lineColorLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                             visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">drawingLine</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;s:HGroup</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                              gap="</span><span class="MXMLString">55</span><span class="MXMLDefault_Text">"
                              verticalAlign="</span><span class="MXMLString">middle</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:ColorPicker</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">cpLine</span><span class="MXMLDefault_Text">" selectedColor="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">defaultDrawColor</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                        <span class="MXMLComponent_Tag">&lt;s:HGroup</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                                  gap="</span><span class="MXMLString">24</span><span class="MXMLDefault_Text">"
                                  verticalAlign="</span><span class="MXMLString">middle</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;s:Label</span><span class="MXMLDefault_Text"> text="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">lineStyleLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                            <span class="MXMLComponent_Tag">&lt;s:DropDownList</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">lineStyle</span><span class="MXMLDefault_Text">"
                                            width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                                            labelField="</span><span class="MXMLString">name</span><span class="MXMLDefault_Text">"
                                            selectedIndex="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;s:typicalItem&gt;</span>
                                    <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getLongestString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'lineStyleSolid'</span><span class="ActionScriptOperator">,</span>
                                                                       <span class="ActionScriptString">'lineStyleDashes'</span><span class="ActionScriptOperator">,</span>
                                                                       <span class="ActionScriptString">'lineStyleDot'</span><span class="ActionScriptOperator">,</span>
                                                                       <span class="ActionScriptString">'lineStyleDash'</span><span class="ActionScriptOperator">,</span>
                                                                       <span class="ActionScriptString">'lineStyleDot'</span><span class="ActionScriptOperator">,</span>
                                                                       <span class="ActionScriptString">'lineStyleDashDot'</span><span class="ActionScriptOperator">,</span>
                                                                       <span class="ActionScriptString">'lineStyleDashDotDot'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;/s:typicalItem&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;s:ArrayList&gt;</span>
                                    <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'lineStyleSolid'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">SimpleLineSymbol</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">STYLE_SOLID</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                                    <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'lineStyleDash'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">SimpleLineSymbol</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">STYLE_DASH</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                                    <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'lineStyleDot'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">SimpleLineSymbol</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">STYLE_DOT</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                                    <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'lineStyleDashDot'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">SimpleLineSymbol</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">STYLE_DASHDOT</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                                    <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'lineStyleDashDotDot'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" style="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">SimpleLineSymbol</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">STYLE_DASHDOTDOT</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;/s:ArrayList&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/s:DropDownList&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;/s:HGroup&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;/s:HGroup&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/mx:FormItem&gt;</span>

                <span class="MXMLComponent_Tag">&lt;mx:FormItem</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                             includeInLayout="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">drawingLine</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                             label="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">lineWidthLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                             visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">drawingLine</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;s:HGroup</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                              gap="</span><span class="MXMLString">18</span><span class="MXMLDefault_Text">"
                              verticalAlign="</span><span class="MXMLString">middle</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;mx:NumericStepper</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">numLineWidth</span><span class="MXMLDefault_Text">"
                                           maximum="</span><span class="MXMLString">50</span><span class="MXMLDefault_Text">"
                                           minimum="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">"
                                           stepSize="</span><span class="MXMLString">1</span><span class="MXMLDefault_Text">"
                                           value="</span><span class="MXMLString">5</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                        <span class="MXMLComponent_Tag">&lt;mx:Label</span><span class="MXMLDefault_Text"> text="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">lineAlphaLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                        <span class="MXMLComponent_Tag">&lt;mx:NumericStepper</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">numLineAlpha</span><span class="MXMLDefault_Text">"
                                           maximum="</span><span class="MXMLString">1</span><span class="MXMLDefault_Text">"
                                           minimum="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">"
                                           stepSize="</span><span class="MXMLString">0.1</span><span class="MXMLDefault_Text">"
                                           value="</span><span class="MXMLString">1</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;/s:HGroup&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/mx:FormItem&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/mx:Form&gt;</span>

            <span class="MXMLComponent_Tag">&lt;s:VGroup</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">" height="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                      gap="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">"
                      includeInLayout="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">showMeasurements</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                      paddingTop="</span><span class="MXMLString">2</span><span class="MXMLDefault_Text">"
                      visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">showMeasurements</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                <span class="MXMLComponent_Tag">&lt;s:CheckBox</span><span class="MXMLDefault_Text"> label="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">showmeasurementsLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" selected="</span><span class="MXMLString">@{</span><span class="ActionScriptDefault_Text">isMeasuringEnabled</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                <span class="MXMLComponent_Tag">&lt;mx:Form</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">" height="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                         includeInLayout="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">isMeasuringEnabled</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                         paddingBottom="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">"
                         verticalScrollPolicy="</span><span class="MXMLString">off</span><span class="MXMLDefault_Text">"
                         visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">isMeasuringEnabled</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;mx:FormItem</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                                 includeInLayout="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">isMeasuringEnabled</span> <span class="ActionScriptOperator">&amp;</span><span class="ActionScriptDefault_Text">amp</span>;<span class="ActionScriptOperator">&amp;</span><span class="ActionScriptDefault_Text">amp</span>; <span class="ActionScriptDefault_Text">drawingPolygon</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                 label="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">areaUnitsLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                 visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">isMeasuringEnabled</span> <span class="ActionScriptOperator">&amp;</span><span class="ActionScriptDefault_Text">amp</span>;<span class="ActionScriptOperator">&amp;</span><span class="ActionScriptDefault_Text">amp</span>; <span class="ActionScriptDefault_Text">drawingPolygon</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;s:DropDownList</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">cboArea</span><span class="MXMLDefault_Text">"
                                        labelField="</span><span class="MXMLString">name</span><span class="MXMLDefault_Text">"
                                        requireSelection="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">"
                                        selectedIndex="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;s:typicalItem&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getLongestString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'unitsSquareKilometers'</span><span class="ActionScriptOperator">,</span>
                                                                   <span class="ActionScriptString">'unitsSquareMiles'</span><span class="ActionScriptOperator">,</span>
                                                                   <span class="ActionScriptString">'unitsAcres'</span><span class="ActionScriptOperator">,</span>
                                                                   <span class="ActionScriptString">'unitsHectares'</span><span class="ActionScriptOperator">,</span>
                                                                   <span class="ActionScriptString">'unitsSquareMeters'</span><span class="ActionScriptOperator">,</span>
                                                                   <span class="ActionScriptString">'unitsSquareFeet'</span><span class="ActionScriptOperator">,</span>
                                                                   <span class="ActionScriptString">'unitsYards'</span><span class="ActionScriptOperator">,</span>
                                                                   <span class="ActionScriptString">'unitsSquareYards'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/s:typicalItem&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;s:ArrayList&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'unitsSquareKilometers'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           abbr="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'unitsSquareKilometersAbbr'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           conversion="</span><span class="MXMLString">0.000001</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                                <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'unitsSquareMiles'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           abbr="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'unitsSquareMilesAbbr'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           conversion="</span><span class="MXMLString">0.0000003861021</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                                <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'unitsAcres'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           abbr="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'unitsAcresAbbr'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           conversion="</span><span class="MXMLString">0.00024710538147</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                                <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'unitsHectares'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           abbr="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'unitsHectaresAbbr'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           conversion="</span><span class="MXMLString">0.0001</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                                <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'unitsSquareMeters'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           abbr="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'unitsSquareMetersAbbr'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           conversion="</span><span class="MXMLString">1</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                                <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'unitsSquareFeet'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           abbr="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'unitsSquareFeetAbbr'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           conversion="</span><span class="MXMLString">10.763910417</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                                <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'unitsSquareYards'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           abbr="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'unitsSquareYardsAbbr'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           conversion="</span><span class="MXMLString">1.19599005</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/s:ArrayList&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;/s:DropDownList&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;/mx:FormItem&gt;</span>

                    <span class="MXMLComponent_Tag">&lt;mx:FormItem</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                                 includeInLayout="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">isMeasuringEnabled</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                 label="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">distanceUnitsLabel</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                 visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">isMeasuringEnabled</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;s:DropDownList</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">cboDistance</span><span class="MXMLDefault_Text">"
                                        labelField="</span><span class="MXMLString">name</span><span class="MXMLDefault_Text">"
                                        requireSelection="</span><span class="MXMLString">true</span><span class="MXMLDefault_Text">"
                                        selectedIndex="</span><span class="MXMLString">0</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;s:typicalItem&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getLongestString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'unitsKilometers'</span><span class="ActionScriptOperator">,</span>
                                                                   <span class="ActionScriptString">'unitsMiles'</span><span class="ActionScriptOperator">,</span>
                                                                   <span class="ActionScriptString">'unitsMeters'</span><span class="ActionScriptOperator">,</span>
                                                                   <span class="ActionScriptString">'unitsFeet'</span><span class="ActionScriptOperator">,</span>
                                                                   <span class="ActionScriptString">'unitsYards'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/s:typicalItem&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;s:ArrayList&gt;</span>
                                <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'unitsKilometers'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           abbr="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'unitsKilometersAbbr'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           conversion="</span><span class="MXMLString">.001</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                                <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'unitsMiles'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           abbr="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'unitsMilesAbbr'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           conversion="</span><span class="MXMLString">0.000621</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                                <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'unitsMeters'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           abbr="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'unitsMetersAbbr'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           conversion="</span><span class="MXMLString">1</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                                <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'unitsFeet'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           abbr="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'unitsFeetAbbr'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           conversion="</span><span class="MXMLString">3.2808</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>

                                <span class="MXMLComponent_Tag">&lt;fx:Object</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'unitsYards'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           abbr="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">getDefaultString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'unitsYardsAbbr'</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"
                                           conversion="</span><span class="MXMLString">1.0936133</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                            <span class="MXMLComponent_Tag">&lt;/s:ArrayList&gt;</span>
                        <span class="MXMLComponent_Tag">&lt;/s:DropDownList&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;/mx:FormItem&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/mx:Form&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/s:VGroup&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/s:VGroup&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/viewer:WidgetTemplate&gt;</span>
<span class="MXMLComponent_Tag">&lt;/viewer:BaseWidget&gt;</span></pre></body>
</html>
